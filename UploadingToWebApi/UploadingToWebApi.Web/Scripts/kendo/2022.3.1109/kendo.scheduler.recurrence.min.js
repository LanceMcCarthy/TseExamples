/**
 * Kendo UI v2022.3.1109 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e){"function"==typeof define&&define.amd?define(["kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.buttongroup.min"],e):e()}((function(){!function(e,t){var a=window.kendo,n=a.timezone,s=a.Class,r=a.ui,i=r.Widget,l=r.DropDownList,o=r.ButtonGroup,u=a.date,d=u.setTime,c=u.setDayOfWeek,f=u.adjustDST,m=u.firstDayOfMonth,y=u.getMilliseconds,p=[0,31,60,91,121,152,182,213,244,274,305,335,366],v=[0,31,59,90,120,151,181,212,243,273,304,334,365],k=[31,28,31,30,31,30,31,31,30,31,30,31],g={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},h={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},_=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],w=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],D=w.length,b={months:function(e,t,a){var n=a.months,s=U(n,e.getMonth()+1),r=!1;return null!==s&&(s.length?e.setMonth(s[0]-1,1):e.setFullYear(e.getFullYear()+1,n[0]-1,1),r=!0),r},monthDays:function(e,t,a){for(var n,s,r,i=!1,l=e.getHours(),o=function(e){return e<0&&(e=n+e+1),e};e<=t;){if(s=e.getMonth(),n=C(e),null===(r=U(a.monthDays,e.getDate(),o)))return i;if(i=!0,r.length){if(e.setMonth(s,r.sort(G)[0]),f(e,l),s===e.getMonth())break}else e.setMonth(s+1,1)}return i},yearDays:function(e,t,a){for(var n,s,r=!1,i=e.getHours(),l=function(e){return e<0&&(e=n+e),e};e<t;){if(n=L(e)?366:365,null===(s=U(a.yearDays,F(e),l)))return r;if(r=!0,n=e.getFullYear(),s.length){e.setFullYear(n,0,s.sort(G)[0]),f(e,i);break}e.setFullYear(n+1,0,1)}return r},weeks:function(e,t,a){for(var n,s,r,i=a.weekStart,l=!1,o=e.getHours(),u=function(e){return e<0&&(e=53+e),e};e<t;){if(null===(s=U(a.weeks,B(e,i),u)))return l;if(l=!0,n=e.getFullYear(),s.length){r=7*s.sort(G)[0]-1,e.setFullYear(n,0,r),c(e,i,-1),f(e,o);break}e.setFullYear(n+1,0,1)}return l},weekDays:function(e,t,a){var n,s,r=new Date(e.getTime()+a.offsets.start),i=r.getDay()-e.getDay(),l=a.weekDays,o=a.weekStart,u=function(e,t,a){for(var n,s,r,i,l=z(t.getDay(),a),o=e.length,u=[],d=0;d<o;d++)if(s=e[d],i=N(t,a),null!==(n=V(t,s,a)))if(i<n)u.push(s);else if(i===n)if(l<(r=z(s.day,a)))u.push(s);else if(l===r)return null;return u}(l,r,o),d=e.getHours();if(null===u)return!1;if((n=u[0])||(("monthly"===a.freq&&!a.positions||a.position>0)&&l.forEach((function(t){var a=new Date(e.getFullYear(),e.getMonth()+1,1),s=z(t.day,o);a.getDay()<=s&&(!n||z(n.day,o)>s)&&(n=t)})),n||(n=l[0]),c(e,o)),s=n.day,s-=i,n.offset)for(;e<=t&&!P(e,n,o);)N(e,o)===W(e,o)?(e.setMonth(e.getMonth()+1,1),f(e,d)):(e.setDate(e.getDate()+7),f(e,d),c(e,o,-1));return e.getDay()!==s&&c(e,s),!0},hours:function(e,t,a){var n=a.hours,s=a._startTime,r=s.getHours(),i=U(n,r),l=!1;return null!==i&&(l=!0,e.setHours(r),f(e,r),i.length?(i=i[0],e.setHours(i)):(i=e.getHours(),e.setDate(e.getDate()+1),f(e,i),i=n[0],e.setHours(i),f(e,i)),a.minutes&&e.setMinutes(0),s.setHours(i,e.getMinutes())),l},minutes:function(e,t,a){var n=a.minutes,s=U(n,e.getMinutes()),r=a._startTime.getHours(),i=!1;return null!==s&&(i=!0,s.length?s=s[0]:(r+=1,s=n[0]),a.seconds&&e.setSeconds(0),e.setHours(r,s),f(e,r%=24),a._startTime.setHours(r,s,e.getSeconds())),i},seconds:function(e,t,a){var n=a.seconds,s=a._startTime.getHours(),r=U(n,e.getSeconds()),i=e.getMinutes(),l=!1;return null!==r&&(l=!0,r.length?e.setSeconds(r[0]):(i+=1,e.setMinutes(i,n[0]),i>59&&(i%=60,s=(s+1)%24)),a._startTime.setHours(s,i,e.getSeconds())),l}},T=s.extend({next:function(e,t){var a,n,s=t._startTime,r=s.getDate();if(t.seconds)n=e.getSeconds()+1,e.setSeconds(n),s.setSeconds(n),s.setDate(r);else{if(!t.minutes)return!1;a=e.getMinutes()+1,e.setMinutes(a),s.setMinutes(a),s.setDate(r)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,a,n){for(var s,r,i,l,o,u=n.interval;e<=a;){for(i=r=t,o=e.getDate(),l=0;l<D;l++){if(n[s=w[l]]){if(i=b[s](e,a,n),r!==t&&i)break;r=i}i&&this.normalize({date:e,rule:n,day:o,idx:l})}if((1===u||!this.interval(n,e))&&l===D)break}},interval:function(e,t){var a,n,s=new Date(e._startPeriod),r=new Date(t),i=t.getHours(),l=e.weekStart,o=e.interval,d=e.freq,c=!1,m=0,y=0,p=1;if("hourly"===d)a=r.getTimezoneOffset()-s.getTimezoneOffset(),n=e._startTime.getHours(),r=r.getTime(),i!==n&&(r+=(n-i)*u.MS_PER_HOUR),r-=s,a&&(r-=a*u.MS_PER_MINUTE),0!==(m=q(a=Math.floor(r/u.MS_PER_HOUR),o))&&(this._hour(t,e,m),c=!0);else if("daily"===d)u.setTime(r,-s,!0),0!==(m=q(a=Math.round(r/u.MS_PER_DAY),o))&&(this._date(t,e,m),c=!0);else if("weekly"===d){m=this._getNumberOfWeeksBetweenDates(s,t),z(t.getDay(),l)<z(s.getDay(),l)&&(m+=1),0!==(m=q(m,o))&&(u.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*m),f(t,i),c=!0)}else"monthly"===d?(a=t.getFullYear()-s.getFullYear(),0!==(m=q(a=t.getMonth()-s.getMonth()+12*a,o))&&(p=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+m,p),f(t,i),c=!0)):"yearly"===d&&(m=q(a=t.getFullYear()-s.getFullYear(),o),e.months||(y=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(p=t.getDate()),0!==m&&(t.setFullYear(t.getFullYear()+m,y,p),f(t,i),c=!0));return c},_getNumberOfWeeksBetweenDates:function(e,t){var a=(t-e)/6048e5,n=Math.floor(a);return a-n>.99&&(n=Math.round(a)),n},_hour:function(e,t,a){var n=t._startTime,s=n.getHours();a&&(s+=a),e.setHours(s),s%=24,n.setHours(s),f(e,s)},_date:function(e,t,a){var n=e.getHours();e.setDate(e.getDate()+a),f(e,n)||this._hour(e,t)}}),M=T.extend({next:function(e,t){T.fn.next(e,t)||this._hour(e,t,1)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),x=T.extend({next:function(e,t){T.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1)}}),E=x.extend({setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),O=T.extend({next:function(e,t){var a,n;if(!T.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(a=e.getDate(),n=e.getHours(),e.setMonth(e.getMonth()+1),f(e,n);e.getDate()!==a;)e.setDate(a),f(e,n);this._hour(e,t)}},normalize:function(e){var t=e.rule,a=e.date,n=a.getHours();0!==e.idx||t.monthDays||t.weekDays?T.fn.normalize(e):(a.setDate(e.day),f(a,n))},setup:function(e,t,a){e.monthDays||e.weekDays||a.setDate(t.getDate())}}),H=O.extend({next:function(e,t){var a,n=e.getHours();if(!T.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(a=e.getDate(),e.setMonth(e.getMonth()+1),f(e,n);e.getDate()!==a;)e.setDate(a),f(e,n);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),f(e,n),this._hour(e,t)},setup:function(){}}),Y={hourly:new M,daily:new x,weekly:new E,monthly:new O,yearly:new H},S="click",R="change";function q(e,t){var a;return 0!==e&&e<t?a=t-e:(a=e%t)&&(a=t-a),a}function F(e){var t=e.getMonth();return(L(e)?p[t]:v[t])+e.getDate()}function B(e,a){var n,s;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),f(e,0),n=e.getFullYear(),a!==t?(c(e,a,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),f(e,0),s=Math.floor((e.getTime()-new Date(n,0,1,-6))/864e5),1+Math.floor(s/7)}function N(e,t){var a=7-(m(e).getDay()+7-(t||7))||7;return a<0&&(a+=7),Math.ceil((e.getDate()-a)/7)+1}function z(e,t){return e+(e<t?7:0)}function V(e,t,a){var n=t.offset;if(!n)return N(e,a);var s=new Date(e.getFullYear(),e.getMonth()+1,0),r=N(s,a),i=z(t.day,a),l=i<z(new Date(e.getFullYear(),e.getMonth(),1).getDay(),a),o=i>z(s.getDay(),a);return n<0?n=r+(n+1-(o?1:0)):l&&(n+=1),r-=o?1:0,n<(l?1:0)||n>r?null:n}function W(e,t){return N(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function P(e,t,a){return N(e,a)===V(e,t,a)}function U(e,t,a){for(var n,s=0,r=e.length,i=[];s<r;s++){if(n=e[s],a&&(n=a(n)),t===n)return null;t<n&&i.push(n)}return i}function A(e,t){for(var a,n=0,s=e.length;n<s;n++){if(a=parseInt(e[n],10),isNaN(a)||a<t.start||a>t.end||0===a&&t.start<0)return null;e[n]=a}return e.sort(G)}function I(e){for(var a,n,s,r=0,i=e.length;r<i;r++){if(n=(a=e[r]).length,s=a.substring(n-2).toUpperCase(),(s=h[s])===t)return null;e[r]={offset:parseInt(a.substring(0,n-2),10)||0,day:s}}return e}function C(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:k[t]}function L(e){return(e=e.getFullYear())%4==0&&e%100!=0||e%400==0}function G(e,t){return e-t}function j(e,t){var a,n,s=0,r=[];if(e)for(a=(e=e.split(-1!==e.indexOf(";")?";":",")).length;s<a;s++)(n=ee(e[s],t))&&r.push(n);return r}function Z(e,t,a){for(var n=Array.isArray(e)?e:j(e,a),s=t.getTime()-t.getMilliseconds(),r=0,i=n.length;r<i;r++)if(n[r].getTime()===s)return!0;return!1}function K(e,t){var n,s,r=0,i=[].concat(e);for(n=i.length;r<n;r++)s=i[r],s=a.timezone.convert(s,t||s.getTimezoneOffset(),"Etc/UTC"),i[r]=a.toString(s,"yyyyMMddTHHmmssZ");return i.join(",")}function Q(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),11,31);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth()+1,0);break;case"weekly":c(a,t.weekStart,-1),a.setDate(a.getDate()+6)}return t.hours&&a.setHours(23),t.minutes&&a.setMinutes(59),t.seconds&&a.setSeconds(59),a}function X(e,t,a,n){for(var s,r,i,l=e.length,o=[],u=0,d=a.length;u<d;u++)(s=a[u])<0?s=l+s:s-=1,r=e[s],i=!n||r.start<n,r&&r.start>=t&&i&&o.push(r);return o}function J(e,t,a){for(var n,s=[],r=0;r<e.length;r++)Z(t,(n=e[r]).start,a)||s.push(n);return s}function $(e,t){return t?a.timezone.offset(e,t):e.getTimezoneOffset()}function ee(e,t){return(e=a.parseDate(e,_))&&t&&(e=n.apply(e,t)),e}function te(e,t){for(var a,n,s,r,i,l,o=e.split(";"),u=0,d=o.length;u<d;u++)if(n=(a=o[u].split(":"))[0],s=a[1],-1!==n.indexOf("TZID")&&(r=n.substring(n.indexOf("TZID")).split("=")[1]),s)for(i=0,l=(s=s.split(",")).length;i<l;i++)s[i]=ee(s[i],r||t);if(s)return{value:s,tzid:r}}function ae(e,n,s){var r,i,l,o,u,d,c,f,m={},y=0,p=!1;if(!e)return null;for((d=e.split("\n"))[1]||-1===e.indexOf("DTSTART")&&-1===e.indexOf("DTEND")&&-1===e.indexOf("EXDATE")||(d=e.split(" ")),y=0,l=d.length;y<l;y++)-1!==(u=a.trim(d[y])).indexOf("DTSTART")?m.start=te(u,n):-1!==u.indexOf("DTEND")?m.end=te(u,n):-1!==u.indexOf("EXDATE")?m.exdates=te(u,n):-1!==u.indexOf("RRULE")?o=u.substring(6):a.trim(u)&&(o=u);for(y=0,l=(o=o.split(";")).length;y<l;y++)switch(r=o[y].split("="),i=a.trim(r[1]).split(","),a.trim(r[0]).toUpperCase()){case"FREQ":m.freq=i[0].toLowerCase();break;case"UNTIL":m.until=ee(i[0],n);break;case"COUNT":m.count=parseInt(i[0],10);break;case"INTERVAL":m.interval=parseInt(i[0],10);break;case"BYSECOND":m.seconds=A(i,{start:0,end:60}),p=!0;break;case"BYMINUTE":m.minutes=A(i,{start:0,end:59}),p=!0;break;case"BYHOUR":m.hours=A(i,{start:0,end:23}),p=!0;break;case"BYMONTHDAY":m.monthDays=A(i,{start:-31,end:31}),p=!0;break;case"BYYEARDAY":m.yearDays=A(i,{start:-366,end:366}),p=!0;break;case"BYMONTH":m.months=A(i,{start:1,end:12}),p=!0;break;case"BYDAY":m.weekDays=f=I(i),p=!0;break;case"BYWEEKNO":m.weeks=A(i,{start:-53,end:53}),p=!0;break;case"BYSETPOS":m.positions=A(i,{start:-366,end:366});break;case"WKST":m.weekStart=c=h[i[0]]}return m.freq===t||m.count!==t&&m.until?null:(m.interval||(m.interval=1),c===t&&(m.weekStart=c=a.culture().calendar.firstDay),f&&(m.weekDays=f.sort((function(e,t){var a=e.day,n=t.day;return a<c&&(a+=7),n<c&&(n+=7),a-n}))),m.positions&&!p&&(m.positions=null),m._hasRuleValue=p,m.offsets=s,m)}function ne(e,t){for(var s,r=e.value,i=e.tzid||"",l=r.length,o=0;o<l;o++)s=r[o],s=n.convert(s,i||t||s.getTimezoneOffset(),"Etc/UTC"),r[o]=a.toString(s,"yyyyMMddTHHmmssZ");return i&&(i=";TZID="+i),i+":"+r.join(",")+" "}function se(e,s){var r=e.weekStart,i="FREQ="+e.freq.toUpperCase(),l=e.exdates||"",o=e.start||"",u=e.end||"",d=e.until;return r===t&&(r=a.culture().calendar.firstDay),e.interval>1&&(i+=";INTERVAL="+e.interval),e.count&&(i+=";COUNT="+e.count),d&&(d=n.convert(d,s||d.getTimezoneOffset(),"Etc/UTC"),i+=";UNTIL="+a.toString(d,"yyyyMMddTHHmmssZ")),e.months&&(i+=";BYMONTH="+e.months),e.weeks&&(i+=";BYWEEKNO="+e.weeks),e.yearDays&&(i+=";BYYEARDAY="+e.yearDays),e.monthDays&&(i+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(i+=";BYDAY="+function(e){for(var t,a,n=0,s=e.length,r=[];n<s;n++)"string"==typeof(t=e[n])?a=t:(a=""+g[t.day],t.offset&&(a=t.offset+a)),r.push(a);return r.toString()}(e.weekDays)),e.hours&&(i+=";BYHOUR="+e.hours),e.minutes&&(i+=";BYMINUTE="+e.minutes),e.seconds&&(i+=";BYSECOND="+e.seconds),e.positions&&(i+=";BYSETPOS="+e.positions),r!==t&&(i+=";WKST="+g[r]),o&&(o="DTSTART"+ne(o,s)),u&&(u="DTEND"+ne(u,s)),l&&(l="EXDATE"+ne(l,s)),(o||u||l)&&(i=o+u+l+"RRULE:"+i),i}a.recurrence={rule:{parse:ae,serialize:se},expand:function(e,n,s,r){var i,l,o,f,m,p,v,k,g,h,_,w,D,b,T,M,x,E,O,H,S,R,q,F,B,N,z=[];if(!(i=ae(e.recurrenceRule,r,{start:($(e.start,r)-$(e.start,e.startTimezone||r))*a.date.MS_PER_MINUTE,end:($(e.end,r)-$(e.end,e.endTimezone||r))*a.date.MS_PER_MINUTE})))return[e];S=(H=i.positions)?0:1,h=i.start,_=i.end,(h||_)&&(e=e.clone({start:h?new Date(h.value[0]):t,end:_?new Date(_.value[0]):t})),M=(x=e.start).getTime(),T=y(x),!(b=j(e.recurrenceException,r))[0]&&i.exdates&&(b=i.exdates.value,e.set("recurrenceException",K(b,r))),g=n=new Date(n),s=new Date(s),D=i.freq,O=Y[D],E=i.count,i.until&&i.until<s&&(s=new Date(i.until)),w="yearly"===D||"monthly"===D||"weekly"===D,n<M||E||i.interval>1||w||("daily"===D||"hourly"===D)&&!i.seconds?n=new Date(M):(m=n.getHours(),p=n.getMinutes(),v=n.getSeconds(),i.hours||(m=x.getHours()),i.minutes||(p=x.getMinutes()),i.seconds||(v=x.getSeconds()),n.setHours(m,p,v,x.getMilliseconds())),i._startPeriod=new Date(n),H&&(n=function(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),0,1);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth(),1);break;case"weekly":c(a,t.weekStart,-1)}return t.hours&&a.setHours(0),t.minutes&&a.setMinutes(0),t.seconds&&a.setSeconds(0),a}(n,i),s=Q(s,i),y(s)-y(n)<0&&(m=n.getHours(),s.setHours(m,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),u.adjustDST(s,m)),i._startPeriod=new Date(n),i._endPeriod=Q(n,i)),k=e.duration();var V,W,P,U,A=e.isAllDay?864e5:0;for(i._startTime=l=u.toInvariantTime(n),O.setup&&O.setup(i,x,n),O.limit(n,s,i);n<=s;){f=new Date(n),d(f,k);var I=new Date(n);if(d(I,k+A),(n>=g||I>g)&&!Z(b,n,r)||H)if(o=(l=u.toUtcTime(u.getDate(n))+y(i._startTime))+k,M!==n.getTime()||T!==y(i._startTime)){var C=e.startTimezone||e.endTimezone,L=e.endTimezone||e.startTimezone;if(!e.isAllDay&&(r&&C||!r&&!C)){var G=$(n,r)-$(e.start,r),ee=$(f,r)-$(e.end,r),te=$(n,C)-$(e.start,C),ne=$(f,L)-$(e.end,L);if(G!==te){var se=6e4*(G-te);q=new Date(n.getTime()-se),B=l-se}if(ee!==ne){var re=6e4*(ee-ne);F=new Date(f.getTime()-re),N=o-re}}z.push(e.toOccurrence({start:q||new Date(n),end:F||f,_startTime:B||l,_endTime:N||o})),q=F=B=N=null}else e._startTime=l,e._endTime=o,z.push(e);if(H){if(O.next(n,i),O.limit(n,s,i),n>i._endPeriod&&(R=J(R=X(z.slice(S),x,H,i.until),b,r),z=z.slice(0,S).concat(R),i._endPeriod=Q(n,i),S=z.length),E&&E===S)break}else{if(E&&E===S)break;S+=1;var ie=(W=void 0,P=void 0,U=void 0,W=(V=n).getTimezoneOffset(),P=new Date(V.getTime()-36e5),U=P.getTimezoneOffset(),W<U);O.next(n,i),ie&&"hourly"!==i.freq&&u.toInvariantTime(e.start).getTime()!==u.toInvariantTime(n).getTime()&&(i._startTime=l=new Date(n.getTime()-36e5)),O.limit(n,s,i)}}return z},dayInYear:F,weekInYear:B,weekInMonth:N,numberOfWeeks:W,isException:Z,toExceptionString:K};var re=a.template('# if (frequency !== "never") { #<div class="k-form-field"><label id="recur_interval_label" class="k-label k-form-label" for="recur_interval">#:messages.repeatEvery#</label><div class="k-form-field-wrap"><input id="recur_interval" class="k-recur-interval" title="#:messages.repeatEvery# #:messages.interval#" aria-labelledby="recur_interval_label">#:messages.interval#</div></div># } ## if (frequency === "weekly") { #<div class="k-form-field"><label class="k-label k-form-label">#:messages.repeatOn#</label><div class="k-form-field-wrap"><div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#"></div></div></div></div># } else if (frequency === "monthly") { #<div class="k-form-field"><label class="k-label k-form-label">#:messages.repeatOn#</label></div><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="monthday" title="#:messages.repeatOn#" />#:messages.date#:</label><input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" /></li><li class="k-radio-item"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="weekday" aria-label="#:messages.repeatOn# #:messages.day#" title="#:messages.repeatOn# #:messages.day#" /><input class="k-recur-weekday-offset" title="#:messages.repeatOn#" style="width:8em;" /><input class="k-recur-weekday" title="#:messages.day#" style="width:8em;" /></li></ul></div></div># } else if (frequency === "yearly") { #<div class="k-form-field"><label class="k-label k-form-label">#:messages.repeatOn#</label><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="monthday" title="#:messages.repeatOn# #:messages.month#" /><input class="k-recur-month" aria-label="#:messages.month#" title="#:messages.month#" style="width:8em;" /><input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" /></li><li class="k-radio-item"><input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="weekday" title="#:messages.repeatOn# #:messages.day#" /><input class="k-recur-weekday-offset" title="#:messages.repeatOn#" style="width:8em;"/><input class="k-recur-weekday" title="#:messages.day#" style="width:8em;"/>#:messages.of#<input class="k-recur-month" title="#:messages.of + messages.month#" style="width:8em;"/></li></ul></div></div># } ## if (frequency !== "never") { #<div class="k-form-field"><label class="k-label k-form-label">#:end.label#</label><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-never k-radio k-radio-md" type="radio" name="end" value="never" title="#:end.label#" />#:end.never#</label></li><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-count k-radio k-radio-md" type="radio" name="end" value="count" title="#:end.label#" />#:end.after#</label><input class="k-recur-count" aria-label="#:end.occurrence#" title="#:end.occurrence#" />#:end.occurrence#</li><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-until k-radio k-radio-md" type="radio" name="end" value="until" title="#:end.label#" />#:end.on#</label><input class="k-recur-until" title="#:end.on#" aria-label="#:end.on#" name="recur-until" /></li></ul></div></div># } #'),ie=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],le=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],oe=[{day:0,offset:0},{day:6,offset:0}],ue=i.extend({init:function(e,t){var n,s=this,r=t&&t.frequencies;i.fn.init.call(s,e,t),s.wrapper=s.element,(t=s.options).start=n=t.start||u.today(),r&&(t.frequencies=r),"string"==typeof n&&(t.start=a.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=a.culture().calendar.firstDay),s._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{repeat:"Repeat",recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day ",date:"Date"},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of ",month:"month",day:"day",date:"Date"},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value(),e._trigger()}})},_weekDayButtons:function(e){for(var t=this,n=a.culture().calendar.days.names,s=a.culture().calendar.days.namesAbbr,r=t.options.messages.weekly.repeatOn,i=n.length,l=0,u=[],d=[];l<i;l++)u.push(l);for(n=n.slice(e).concat(n.slice(0,e)),s=s.slice(e).concat(s.slice(0,e)),u=u.slice(e).concat(u.slice(0,e)),l=0;l<i;l++)d.push({text:s[l],attributes:{"data-value":u[l],"aria-label":r+" "+n[l]}});t._weekDayButtonGroup=new o(t._container.find(".k-recur-weekday-buttons"),{items:d,selection:"multiple",select:function(){var e=t._value,a=t._weekDayButtonGroup.current();e.weekDays=a.map((function(e,t){return{day:Number(t.getAttribute("data-value")),offset:0}})),t.options.mobile||t._trigger()}})},_weekDayRule:function(e){var t=this,a=(t._weekDay.element||t._weekDay).val(),n=Number((t._weekDayOffset.element||t._weekDayOffset).val()),s=null,r=null;e||("day"===a?(s=ie,r=n):"weekday"===a?(s=le,r=n):"weekend"===a?(s=oe,r=n):s=[{offset:n,day:Number(a)}]),t._value.weekDays=s,t._value.positions=r},_weekDayView:function(){var e,t,a,n,s=this,r=s._value.weekDays,i=s._value.positions,l=s._weekDayOffset;r&&(a=r.length,i&&(7===a?(t="day",e=i):5===a?(t="weekday",e=i):2===a&&(t="weekend",e=i)),t||(t=(r=r[0]).day,e=r.offset||""),l[n=l.value?"value":"val"](e),s._weekDay[n](t))},_initWeekDay:function(){var t,n=this,s=n.options.messages.weekdays,r=n.options.messages.offsetPositions,i=n._container.find(".k-recur-weekday"),o=function(){n._weekDayRule(),n._trigger()};i[0]&&(n._weekDayOffset=new l(n._container.find(".k-recur-weekday-offset"),{autoWidth:!0,change:o,dataTextField:"text",dataValueField:"value",dataSource:[{text:r.first,value:"1"},{text:r.second,value:"2"},{text:r.third,value:"3"},{text:r.fourth,value:"4"},{text:r.last,value:"-1"}]}),t=[{text:s.day,value:"day"},{text:s.weekday,value:"weekday"},{text:s.weekend,value:"weekend"}],n._weekDay=new l(i,{autoWidth:!0,value:n.options.start.getDay(),change:o,dataTextField:"text",dataValueField:"value",dataSource:t.concat(e.map(a.culture().calendar.days.names,(function(e,t){return{text:e,value:t}})))}),n._weekDayView())},_initWeekDays:function(){var e=this._value,t=this._weekDayButtonGroup;if(t&&e.weekDays&&e.weekDays.length){for(var a,n=e.weekDays,s=n.length,r=[],i=0;i<s;i++)r.push("[data-value='"+n[i].day+"']");a=t.element.find(r.join(",")),t.select(a)}},_initMonthDay:function(){var e=this,t=e._value,n=e._container.find(".k-recur-monthday");n[0]&&(e._monthDay=new a.ui.NumericTextBox(n,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var a=this.value();t.monthDays=a?[a]:a,e._trigger()}}))},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),a=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:a.count||1,decimals:0,format:"#",min:1,change:function(){a.count=this.value(),e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,s=e._value,r=s.until,i=r&&r<n?r:n,l=e.wrapper.closest(".k-scheduler-edit-form").find("[name=start]:visible"),o=a.format(a.ui.Validator.prototype.options.messages.date,e.options.messages.end.on),u=a.ui.Validator.prototype.options.messages.dateCompare,d=new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59);t.attr("data-validDate-msg",o),t.attr("data-untilDateCompare-msg",u),0===l.length&&(l=e.wrapper.closest(".k-scheduler-edit-form").find("[name=start]")),l.length>0&&l.val()&&d<(i=a.parseDate(l.val()))&&(d=i),e._until=t.kendoDatePicker({min:i,value:r||d,change:function(){var t=this.value();t&&(s.until=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)),e._trigger()}}).data("kendoDatePicker"),l&&l.on("change",(function(){e._until.setOptions({min:l.val()})}))},_trigger:function(){this.options.mobile||this.trigger("change")}}),de=ue.extend({init:function(e,t){var a=this;ue.fn.init.call(a,e,t),a._initFrequency(),a._initContainer(),a.value(a.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy(),this._weekDayButtonGroup&&this._weekDayButtonGroup.destroy(),e._container.find("input[type=radio],input[type=checkbox]").off(S+e._namespace),a.destroy(e._container),ue.fn.destroy.call(e)},value:function(e){var a,n,s=this,r=s.options.timezone;if(e===t)return s._value.freq?se(s._value,r):"";s._value=ae(e,r)||{},(a=s._value.freq)?(n=s._frequency.element.find("[data-value='"+a+"']"),s._frequency.select(n)):s._frequency.select(0),s._initView(s._frequency.current().data("value"))},_initContainer:function(){var t=this.element,a=e('<div class="k-recur-view" />'),n=t.parent(".k-edit-field");n[0]?a.insertAfter(n):t.append(a),this._container=a},_initFrequency:function(){var t,a=this,n=a.options,s=n.frequencies,r=n.messages.frequencies,i=e('<div class="k-button-group-stretched k-flex-1"/>').attr({title:n.messages.recurrenceEditorTitle});s=e.map(s,(function(e){return{text:r[e],attributes:{"data-value":e,"aria-label":n.messages.repeat+r[e]}}})),(t=s[0])&&t.attributes&&"never"===t.attributes["data-value"]&&(t.attributes["data-value"]=""),a.element.append(i),a._frequency=new o(i,{items:s,select:function(){a._value={},a._initView(a._frequency.current().data("value")),a.trigger("change")}})},_initView:function(e){var t=this,n=t._value,s=t.options,r={frequency:e||"never",firstWeekDay:s.firstWeekDay,messages:s.messages[e],end:s.messages.end};a.destroy(t._container),t._container.html(re(r)),e?(n.freq=e,"weekly"!==e||n.weekDays||(n.weekDays=[{day:s.start.getDay(),offset:0}]),t._weekDayButtons(s.firstWeekDay),t._initInterval(),t._initWeekDays(),t._initMonthDay(),t._initWeekDay(),t._initMonth(),t._initCount(),t._initUntil(),t._period(),t._end()):t._value={}},_initMonth:function(){var t,n=this,s=n._value,r=s.months||[n.options.start.getMonth()+1],i=n._container.find(".k-recur-month");i[0]&&(t={autoWidth:!0,change:function(){s.months=[Number(this.value())],n.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:e.map(a.culture().calendar.months.names,(function(e,t){return{text:e,value:t+1}}))},n._month1=new l(i[0],t),n._month2=new l(i[1],t),r&&(r=r[0],n._month1.value(r),n._month2.value(r)))},_end:function(){var e,t=this,a=t._value,n=t._container,s=t._namespace,r=function(e){t._toggleEnd(e.currentTarget.value),t.trigger("change")};t._buttonNever=n.find(".k-recur-end-never").on(S+s,r),t._buttonCount=n.find(".k-recur-end-count").on(S+s,r),t._buttonUntil=n.find(".k-recur-end-until").on(S+s,r),a.count?e="count":a.until&&(e="until"),t._toggleEnd(e)},_period:function(){var e=this,t=e._value,a="monthly"===t.freq,n=a?e._toggleMonthDay:e._toggleYear,s=".k-recur-"+(a?"month":"year")+"-radio",r=e._container.find(s);(a||"yearly"===t.freq)&&(r.on(S+e._namespace,(function(t){n.call(e,t.currentTarget.value),e.trigger("change")})),e._buttonMonthDay=r.eq(0),e._buttonWeekDay=r.eq(1),n.call(e,t.weekDays?"weekday":"monthday"))},_toggleEnd:function(e){var t,a,n,s,r=this;"count"===e?(r._buttonCount.prop("checked",!0),n=!0,s=!1,t=r._count.value(),a=null):"until"===e?(r._buttonUntil.prop("checked",!0),n=!1,s=!0,t=null,a=r._until.value()):(r._buttonNever.prop("checked",!0),n=s=!1,t=a=null),r._count&&r._count.enable(n),r._until&&r._until.enable(s),r._value.count=t,r._value.until=a},_toggleMonthDay:function(e){var t,a=this,n=!1,s=!0,r=!1;"monthday"===e?(a._buttonMonthDay.prop("checked",!0),t=[a._monthDay.value()],n=!0,s=!1,r=!0):(a._buttonWeekDay.prop("checked",!0),t=null),a._weekDay.enable(s),a._weekDayOffset.enable(s),a._monthDay.enable(n),a._value.monthDays=t,a._weekDayRule(r)},_toggleYear:function(e){var t,a=this,n=!1,s=!0;"monthday"===e?(n=!0,s=!1,t=a._month1.value()):t=a._month2.value(),a._month1.enable(n),a._month2.enable(s),a._value.months=[t],a._toggleMonthDay(e)}});r.plugin(de);var ce=a.template('<div data-role="content"><ul class="k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:headerTitle#</span><div class="k-recur-pattern k-listgroup-form-field-wrapper"></div></label></li><li class="k-item k-listgroup-item k-recur-view"></li></ul></div>'),fe=a.template('# if (frequency !== "never") { #<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.repeatEvery#</span><div class="k-recur-editor-wrap k-listgroup-form-field-wrapper"><input class="k-recur-interval" type="number" pattern="\\\\d*"/># if (messages.interval.length) { #<span class="k-recur-editor-text">#:messages.interval#</span># } #</div></label># } ## if (frequency === "weekly") { #<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item k-no-click"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.repeatOn#</span></label></li><div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#"></ul># } else if (frequency === "monthly") { #<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span><div class="k-repeat-rule k-listgroup-form-field-wrapper"></div></label></li><li class="k-monthday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div></label></li></ul># } else if (frequency === "yearly") { #<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span><div class="k-repeat-rule k-listgroup-form-field-wrapper"></div></label></li><li class="k-monthday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div></label></li><li class="k-item k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.month#</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-month" title="#:messages.month#"></select></div></label></li></ul># } #'),me=a.template('# if (endPattern === "count") { #<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.after#</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-count" aria-label="#:messages.occurrence#" type="number" pattern="\\\\d*" /></div></label># } else if (endPattern === "until") { #<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">#:messages.on#</span><div class="k-listgroup-form-field-wrapper"><input type="date" class="k-recur-until" aria-label="#:messages.on#" name="recur-until"/></div></label># } #'),ye=a.template('<select class="k-scheduler-select">#for (var i = 0, length = dataSource.length; i < length; i++) {#<option value="#=dataSource[i].value#" #= value === dataSource[i].value  ? "selected" : "" #>#:dataSource[i].text#</option>#}#</select>'),pe=ue.extend({init:function(e,t){var n=this;ue.fn.init.call(n,e,t),t=n.options,n._optionTemplate=a.template('<option value="#:value#">#:text#</option>'),n.value(t.value),n._pane=t.pane||n.wrapper.closest("[data-role=pane]").data("kendoPane"),n._initRepeatButton(),n._initParentRepeatEnd(),n._defaultValue=n._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var a=this,n=a.options.timezone;if(e===t)return a._value.freq?se(a._value,n):"";a._value=ae(e,n)||{}},destroy:function(){this._destroyView(),a.destroy(this._endFields),this._weekDayButtonGroup&&this._weekDayButtonGroup.destroy(),this.element.off(S+this._namespace),ue.fn.destroy.call(this)},_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").val(e._value.interval||1).on(R+e._namespace,(function(a){t.interval=a.target.value,e._trigger()}))},_initRepeatButton:function(){var t=this,a=t.options.messages.frequencies[this._value.freq||"never"];t._chevronButton=e('<span class="k-icon k-i-arrow-chevron-right"></span>'),t._repeatValue=e('<span class="">'+a+"</span>"),t.element.append(t._repeatValue).append(t._chevronButton),t.element.parents("li.k-item").on(S+t._namespace,(function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate(t._view,t.options.animations.left)}))},_endLiItem:function(){return'<li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">'+this.options.messages.end.mobileLabel+"</span></label></li>"},_initParentRepeatEnd:function(){var t=this,a=e(t._endLiItem()).insertAfter(t.element.parents("li.k-item")),n=e('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span></div>').appendTo(a.find(".k-label"));a.on(S+t._namespace,(function(e){e.preventDefault(),t._navigateToView("repeat")})),t._endParentLabelField=a.toggle(!!t._value.freq),t._endParentEndButton=n.find(".k-scheduler-recur-end").text(t._endText())},_initRepeatEnd:function(){var t=this,a=e(t._endLiItem()).insertAfter(t._container),n=e('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span><span class="k-icon k-i-arrow-chevron-right"></span></div>').appendTo(a.find(".k-label"));a.on(S+t._namespace,(function(e){e.preventDefault(),t._navigateToView("end")})),t._endLabelField=a.toggleClass("k-disabled",!t._value.freq),t._endButton=n.find(".k-scheduler-recur-end").text(t._endText())},_navigateToView:function(e){var t=this;t._createView(e),t._pane.navigate(t._view,t.options.animations.left)},_endText:function(){var e=this._value,t=this.options.messages.end,n=t.never;return e.count?n=a.format("{0} {1}",t.after,e.count):e.until&&(n=a.format("{0} {1:d}",t.on,e.until)),n},_initFrequency:function(){var t=this,n=t.options.messages.frequencies,s=ye({dataSource:e.map(this.options.frequencies,(function(e){return{text:n[e],value:"never"!==e?e:""}})),value:t._value.freq||"",ns:a.ns});t._view.element.find(".k-recur-pattern").append(s),t._view.element.find(".k-scheduler-select").on(R+t._namespace,(function(a){var n=a.target.value;t._value={freq:n},t._defaultValue=e.extend({},t._value),t._initRepeatView(),t._endButton.text(t._endText()),t._endParentEndButton.text(t._endText())}))},_initEndNavigation:function(){var e=this,t=e.options.messages.end.patterns,n=e._value,s="";n.count?s="count":n.until&&(s="until");var r=ye({dataSource:[{text:t.never,value:""},{text:t.after,value:"count"},{text:t.on,value:"until"}],value:s,ns:a.ns});e._view.element.find(".k-recur-pattern").append(r),e._view.element.find(".k-scheduler-select").on(R+e._namespace,(function(t){var s=t.target.value,r=null,i=null;e._initEndView(s),e._count.length?(r=e._count.val(),i=null):e._until.length&&(r=null,i=e._until.val?a.parseDate(e._until.val(),"yyyy-MM-dd"):e._until.value()),n.count=r,n.until=i}))},_createView:function(t){var a=this,n=a.options.messages,s=n["repeat"===t?"repeatTitle":"endTitle"],r='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-header-cancel k-scheduler-cancel k-link" title="'+n.cancel+'"aria-label="'+n.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+n.headerTitle+'<a href="#" class="k-header-done k-scheduler-update k-link" title="'+n.update+'" aria-label="'+n.update+'"><span class="k-icon k-i-check"></span></a></div>',i=a._pane.view().id;a._view=a._pane.append(r+ce({headerTitle:s})),a._view.element.on(S+a._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",(function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(a.trigger("change"),a._defaultValue=e.extend({},a._value)):a._value=a._defaultValue;var s=a._value.freq;a._endParentEndButton.text(a._endText()),a._endParentLabelField.toggle(!!s&&"never"!==s),a._endButton.text(a._endText()),a._repeatValue.text(n.frequencies[s||"never"]),a._pane.one("viewShow",(function(){a._destroyView()})),a._pane.navigate(i,a.options.animations.right)})),a._container=a._view.element.find(".k-recur-view"),"repeat"===t?(a._initFrequency(),a._initRepeatView(),a._initRepeatEnd()):(a._initEndNavigation(),a._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove(),this._container=null),this._view=null},_initRepeatView:function(){var e=this,t=e._value.freq||"never",n={frequency:t,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[t]},s=fe(n),r=e._container=e._container||this._pane.view().content.find("li.k-recur-view"),i=e._value;if(e._endLabelField&&e._endLabelField.toggleClass("k-disabled","never"===t),a.destroy(r),r.html(s),!s)return e._value={},void r.hide();r.show(),"weekly"!==t||i.weekDays||(i.weekDays=[{day:e.options.start.getDay(),offset:0}]),e._weekDayButtons(e.options.firstWeekDay),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period()},_initMonthDay:function(){var e=this,t=e._value;(e._monthDay=e._container.find(".k-recur-monthday")).attr({min:1,max:31}).val(t.monthDays?t.monthDays[0]:e.options.start.getDate()).on(R+e._namespace,(function(a){t.count=a.target.value,e._trigger()}))},_initCount:function(){var e=this,t=e._count=e._container.find(".k-recur-count"),a=e._value;t.val(a.count||1).on(R+e._namespace,(function(t){a.count=t.target.value,e._trigger()}))},_initEndView:function(e){var n=this,s=n._value;e===t&&(s.count?e="count":s.until&&(e="until"));var r={endPattern:e,messages:n.options.messages.end};a.destroy(n._container),n._container.html(me(r)),n._initCount(),n._initUntil()},_initWeekDay:function(){var t,n=this,s=n.options.messages.weekdays,r=n.options.messages.offsetPositions,i=n._container.find(".k-recur-weekday"),l=function(){n._weekDayRule(),n.trigger("change")};i[0]&&(n._weekDayOffset=n._container.find(".k-recur-weekday-offset").html(n._options([{text:r.first,value:"1"},{text:r.second,value:"2"},{text:r.third,value:"3"},{text:r.fourth,value:"4"},{text:r.last,value:"-1"}])).on("change",l),t=(t=[{text:s.day,value:"day"},{text:s.weekday,value:"weekday"},{text:s.weekend,value:"weekend"}]).concat(e.map(a.culture().calendar.days.names,(function(e,t){return{text:e,value:t}}))),n._weekDay=i.html(n._options(t)).on("change",l).val(n.options.start.getDay()),n._weekDayView())},_initMonth:function(){var t=this,n=t._value,s=t.options.start,r=n.months||[s.getMonth()+1],i=t._container.find(".k-recur-month"),l=a.culture().calendar.months.names;if(i[0]){var o=e.map(l,(function(e,t){return{text:e,value:t+1}}));i.html(t._options(o)).on("change",(function(){n.months=[Number(this.value)]})),t._monthSelect=i,r&&i.val(r[0])}},_period:function(){var e=this,t=e._value,n=e._container,s=e.options.messages[t.freq],r=n.find(".k-repeat-rule"),i=n.find(".k-weekday-view"),l=n.find(".k-monthday-view");if(r[0]){var o=t.weekDays?"weekday":"monthday",u=ye({value:o,dataSource:[{text:s.dayOfMonth,value:"monthday"},{text:s.dayOfWeek,value:"weekday"}],ns:a.ns}),d=function(a){var n=e._weekDay.val(),s=e._weekDayOffset.val(),r=e._monthDay.val(),o=e._monthSelect?e._monthSelect.val():null;"monthday"===a?(t.weekDays=null,t.monthDays=r?[r]:r,t.months=o?[Number(o)]:o,i.hide(),l.show()):(t.monthDays=null,t.months=o?[Number(o)]:o,t.weekDays=[{offset:Number(s),day:Number(n)}],i.show(),l.hide())};r.append(u),r.find(".k-scheduler-select").on(R+e._namespace,(function(e){d(e.target.value)})),d(o)}},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,s=e._value,r=s.until,i=r&&r<n?r:n,l=a.format(a.ui.Validator.prototype.options.messages.date,e.options.messages.end.on),o=a.ui.Validator.prototype.options.messages.dateCompare;t.attr("data-validDate-msg",l),t.attr("data-untilDateCompare-msg",o),a.support.input.date?e._until=t.attr("min",a.toString(i,"yyyy-MM-dd")).val(a.toString(r||n,"yyyy-MM-dd")).on("change",(function(){var t=a.parseDate(this.value,"yyyy-MM-dd");t&&(s.until=t),e._trigger()})):e._until=t.kendoDatePicker({min:i,value:r||n,change:function(){var t=this.value();t&&(s.until=t),e._trigger()}}).data("kendoDatePicker")},_options:function(e,t){var a=0,n="",s=e.length,r=this._optionTemplate;for(t&&(n+=r({value:"",text:t}));a<s;a++)n+=r(e[a]);return n}});r.plugin(pe)}(window.kendo.jQuery)}));
//# sourceMappingURL=kendo.scheduler.recurrence.min.js.map
