/**
 * Kendo UI v2022.3.1109 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t){"function"==typeof define&&define.amd?define(["kendo.stepper.min","kendo.button.min","kendo.form.min"],t):t()}((function(){var t,e,n,r,s,i,o,a,p,d,l,h,u,c,f,m,g,_,v,b,w,S,k,x,C,B,z,y,A,E,j,F,N,T,I,H,K,L,O,U,D,P;t=window.kendo.jQuery,n=window.kendo,r=n.ui.Widget,s=t.extend,i=".kendoWizard",o="click",a="activate",p="select",d="reset",l="submit",h="previous",u="next",c="done",f="error",m="contentLoad",g="formValidateFailed",_="k-hidden",v="aria-selected",b="aria-hidden",w="aria-label",S="bottom",k="right",x="left",C=".",B="id",z="role",y="data-wizard-",A="k-widget k-wizard",E="k-wizard-horizontal",j="k-wizard-vertical",F="k-wizard-right",N="k-wizard-left",T="k-wizard-steps",I="k-wizard-step",H="k-wizard-content",K="k-wizard-buttons",L="k-wizard-buttons-left",O="k-wizard-buttons-right",U="k-wizard-pager",D=n.Class.extend({init:function(t){this.options=s({},this.options,t),this.options.actionBar&&this._processButtons(),this._render()},options:{name:"WizardStep",index:0,content:"",contentUrl:null,contentId:null,markupContainer:null,form:null,actionBar:!0,buttons:[],pager:!0,selected:!1,enabled:!0,className:"",totalSteps:1,wizardId:"wizard",formTag:"form",messages:{}},_defaultButtonsConfiguration:{first:[d,u],middle:[d,h,u],last:[d,h,c]},_pagerTemplate:'<span class="k-wizard-pager">#: step # #: currentStep # #: of # #: totalSteps #</span>',buttons:function(){return this._buttons},load:function(){this.options.contentUrl&&this._ajaxRequest()},resetButtons:function(){var t=this.element.find(C+K);n.destroy(t),t.remove(),this.options.buttons=[],this._processButtons(),this._buttonsContainer()},_ajaxRequest:function(e,r){var s=this,i=s.options.contentUrl,o=s.element,a={type:"GET",cache:!1,url:i,dataType:"html",data:{},error:function(t,n){e&&e._triggerError(t,n,s)},complete:function(){e&&r&&e._triggerActivate(s)},success:function(t){var r=o.find(C+H);try{e&&e.angular("cleanup",(function(){return{elements:o.get()}})),n.destroy(r),r.html(t),e&&e._triggerContentLoad(s)}catch(t){this.error(this.xhr,"error")}e&&e.angular("compile",(function(){return{elements:o.get()}}))}};"object"==typeof i&&(a=t.extend(!0,{},a,i)),t.ajax(a)},_ariaAttributes:function(){var t=this.element,e=this.options,n=e.messages,r=n.step+" "+(e.index+1)+" "+n.of+" "+e.totalSteps;t.attr(z,"tabpanel").attr("tabindex",0).attr(B,e.wizardId+"-"+e.index).attr(w,r)},_buttonFactory:function(e){var n=t("<button type='button'>").kendoButton({themeColor:e.primary?"primary":"base"}).getKendoButton(),r=n.element;r.attr(y+e.name,""),r.text(e.text),e.click&&n.bind(o,e.click),!1===e.enabled&&n.enable(!1),e.position===x?this._leftButtonsContainer.append(r):this._rightButtonsContainer.append(r),"done"===e.name&&"form"!==this.options.formTag&&n.element.attr("type",l),this._buttons.push(n)},_buttonsContainer:function(){var e=t("<div>").addClass(K);this._leftButtonsContainer=t("<span>").addClass(L),this._rightButtonsContainer=t("<span>").addClass(O),e.append(this._leftButtonsContainer),e.append(this._rightButtonsContainer),this.element.append(e),this._buttons=[],this.options.buttons.map(this._buttonFactory.bind(this)),this.options.pager&&this._pager()},_content:function(){var e=this.options,r=!!e.contentUrl,s=t("<div>").addClass(H);!r&&e.contentId?s.html(t("#"+e.contentId).html()):!r&&e.content&&s.append(e.content),e.markupContainer&&(r||e.contentId||e.content||s.append(e.markupContainer.html()),n.destroy(e.markupContainer),e.markupContainer.remove()),this.element.prepend(s)},_form:function(){var e="<"+this.options.formTag+">",n=t(e).hide(),r=t("<div>").addClass(H),s=this.options.form;t("body").append(n),this.element.prepend(r),s.buttonsTemplate=s.buttonsTemplate||"",this.form=n.kendoForm(s).getKendoForm(),r.append(n.show())},_iterateButton:function(t){var e=this.options.messages;return"string"==typeof t&&(t={name:t}),t.text||(t.text=e[t.name]||t.name.charAt(0).toUpperCase()+t.name.slice(1)),!1===t.primary||t.name!==c&&t.name!==u||(t.primary=!0),t.position||t.name!==d?t.position||(t.position=k):t.position=x,t},_pager:function(){var t=this.options,e=t.messages,r={step:e.step,currentStep:t.index+1,of:e.of,totalSteps:t.totalSteps},s=n.template(this._pagerTemplate)(r);this._leftButtonsContainer.append(s)},_processButtons:function(){var t=this.options,e=t.buttons,n=this._defaultButtonsConfiguration;e&&e.length&&0!==e.length||(this.options.defaultButtons=!0,e=0===t.index?n.first:t.index+1===t.totalSteps?n.last:n.middle),this.options.buttons=e.map(this._iterateButton.bind(this))},_render:function(){this.element=t("<div>").addClass(I),this.options.className&&this.element.addClass(this.options.className),this._ariaAttributes(),this.options.selected||(this.element.addClass(_),this.element.attr(b,!0)),this.options.actionBar&&this._buttonsContainer(),this.options.form?this._form():this._content()}}),P=r.extend({init:function(t,e){var n=this;e=e||{},r.fn.init.call(n,t,e),n._wrapper(),n._createSteps(),n._stepper(),n._attachEvents()},options:{name:"Wizard",contentPosition:S,actionBar:!0,pager:!0,loadOnDemand:!1,reloadOnSelect:!1,validateForms:!0,stepper:{},steps:[],messages:{reset:"Reset",previous:"Previous",next:"Next",done:"Done",step:"Step",of:"of"}},events:[a,p,d,c,f,m,g],destroy:function(){var t=this;r.fn.destroy.call(t.stepper),r.fn.destroy.call(t),t.wrapper.off(i)},activeStep:function(){return this.currentStep},enableStep:function(t,n){var r,s=this;t===e||null===t||isNaN(t)||t>=s._steps.length||t<0||(t=Number(t),(r=s._steps[t]).options.enabled!==n&&(r.options.enabled=n,s.stepper.steps()[t].enable(n)))},insertAt:function(t,n){var r,s,i,o=this._steps,a=o.length,p=this.options.messages;null===t||t===e||isNaN(t)||t<0||t>a||n&&(s=this._mapStepForStepper(n),this.stepper.insertAt(t,s),n.totalSteps=a+1,n.messages=p,n.index=t,n.formTag=this.wrapper.is("form")?"div":"form",!1===this.options.pager&&!0!==n.pager&&(n.pager=!1),r=new D(n),o.forEach((function(e,n){var r;n>=t&&(e.options.index+=1),e.options.totalSteps+=1,e.element.find(C+U).remove(),e._pager(),r=p.step+" "+(e.options.index+1)+" "+p.of+" "+(a+1),e.element.attr(w,r)})),o.splice(t,0,r),0!==t&&t!==a||(i=o[0===t?1:a-1]).options.defaultButtons&&i.resetButtons(),this._insertStepElementAtIndex(t,r.element),this._stepperAriaAttributes(),this._steps.forEach(this._iterateAriaStep))},next:function(){var t=this,e=t._steps.length,n=t.currentStep.options.index;n+1!==e&&t.steps()[n+1].options.enabled&&(t._select(n+1),t._selectStepper(n+1))},previous:function(){var t=this,e=t.currentStep.options.index;0!==e&&t.steps()[e-1].options.enabled&&(t._select(e-1),t._selectStepper(e-1))},removeAt:function(r){var s,i,o,a,p,d=this._steps,l=d.length,h=t(this.element.find(C+I).get(r)),u=this.options.messages;if(!(null===r||r===e||isNaN(r)||r<0||r>l||1===l)){for(this.stepper.removeAt(r),d.splice(r,1)[0],h.hasClass(_)||(s=0===r?0:r-1,this.select(s)),n.destroy(h),h.remove(),o=0;o<l-1;o+=1)(a=d[o]).options.index=o,a.options.totalSteps=l-1,a.element.find(C+U).remove(),a._pager(),p=u.step+" "+(o+1)+" "+u.of+" "+(l-1),a.element.attr(w,p);0!==r&&r!==l-1||(i=d[0===r?0:l-2]).options.defaultButtons&&i.resetButtons(),this._stepperAriaAttributes(),this._steps.forEach(this._iterateAriaStep)}},select:function(t){var n=this;t===e||null===t||isNaN(t)||t>=n._steps.length||t<0||(t=Number(t),n._steps[t].options.enabled&&(n._select(t),n._selectStepper(t)))},steps:function(){return this._steps},_attachEvents:function(){var t=this,e=function(){t._doneClicked=!0};t.stepper.bind(p,t._stepperSelectHandler.bind(t)),t.wrapper.on(o+i,"[data-wizard-reset]",t._resetClickHandler.bind(t)).on(o+i,"[data-wizard-previous]",t._previousClickHandler.bind(t)).on(o+i,"[data-wizard-next]",t._nextClickHandler.bind(t)),t.wrapper.is("form")?(t.wrapper.on(o+i,"[data-wizard-done]",e),t.wrapper.on(l+i,t._doneHandler.bind(t))):(t.wrapper.on(o+i,"[data-wizard-done]",e),t.wrapper.on(o+i,"[data-wizard-done]",t._doneHandler.bind(t)))},_changeStep:function(t){var e=this.wrapper.find(C+I);this.currentStep=t,e.addClass(_),e.attr(b,!0),t.element.removeClass(_),t.element.removeAttr(b)},_createStep:function(e,n,r,i){var o=this.wrapper,a=this.wrapper.children("ol, ul").children("li");return"string"==typeof e&&(e={title:e}),e.totalSteps=i,e.messages=this.options.messages,e.index=n,e.formTag=this.wrapper.is("form")?"div":"form",0===n&&(e.selected=!0),!1===this.options.actionBar&&(e.actionBar=!1),r.length>0&&r[n]&&(e.markupContainer=t(r[n]),e.title||(e.title=a[n]?a[n].textContent:(n+1).toString(),this.options.steps||(this.options.steps=[]))),o.attr(B)&&(e.wizardId=o.attr(B)),!1===this.options.pager&&!0!==e.pager&&(e.pager=!1),this.options.steps[n]=s(!0,{},e),new D(e)},_createSteps:function(){var e,r,s,i,o=this,a=o.wrapper,p=o.options.steps,d=a.children("div");if(e=t("<div>").addClass(T),o._steps=[],!p||0===p.length)for(p=[],r=0;r<d.length;r+=1)p.push({});for(r=0;r<p.length;r+=1)s=p[r],i=o._createStep(s,r,d,p.length),!s.contentUrl||0!==r&&o.options.loadOnDemand||(n.ui.progress(o.wrapper,!0),i._ajaxRequest(o)),e.append(i.element),o._steps.push(i);a.children("ol, ul").remove(),a.empty(),a.append(e),o._refreshEditorWidgets(),o.currentStep=o._steps[0]},_doneHandler:function(e){var n,r,s=this._steps,i=this.currentStep,o=[];if(this._doneClicked){if(this._doneClicked=!1,this.options.validateForms&&i.form&&!i.form.validator.validate())return e.preventDefault(),void this.trigger(g,{sender:this,step:i,form:i.form});for(r=0;r<s.length;r+=1)(n=s[r].form)&&o.push(n);this.trigger(c,{sender:this,forms:o,originalEvent:e,button:t(e.target).getKendoButton()})}},_insertStepElementAtIndex:function(t,e){var n=this.wrapper.find(C+T);0===t?n.prepend(e):n.find(C+I+":nth-child("+t+")").after(e)},_isEmpty:function(t){return!n.trim(t.html())},_iterateAriaStep:function(t){t._ariaAttributes()},_mapStepForStepper:function(t){var e=s(!0,{},t);return e.label=e.title,delete e.buttons,delete e.pager,delete e.content,delete e.contentUrl,delete e.contentId,delete e.formTag,delete e.wizardId,delete e.messages,e},_select:function(t){var e=this._steps[t],r=this.options;e.options.contentUrl&&(r.reloadOnSelect||r.loadOnDemand&&this._isEmpty(e.element.find(C+H)))?(this.ajaxLoad=!0,n.ui.progress(this.wrapper,!0),e._ajaxRequest(this,!0)):this._changeStep(e)},_nextClickHandler:function(e){var n=this,r=n._steps,s=n._steps.length,i=n.currentStep,o=i.options.index,d=t(e.target).getKendoButton(),l=r[o+1];s!==o+1&&l.options.enabled&&(n.options.validateForms&&i.form&&!i.form.validator.validate()?n.trigger(g,{sender:n,step:i,form:i.form}):n.trigger(p,{sender:n,originalEvent:e.originalEvent,step:l,button:d})||(n._select(o+1),n._selectStepper(o+1),n.ajaxLoad||n.trigger(a,{sender:n,step:l}),n.ajaxLoad=!1))},_previousClickHandler:function(e){var n=this,r=n.options.validateForms,s=n._steps,i=n.currentStep,o=i.options.index,d=t(e.target).getKendoButton(),l=s[o-1];0!==o&&l.options.enabled&&(r&&!1!==r.validateOnPrevious&&i.form&&!i.form.validator.validate()?n.trigger(g,{sender:n,step:i,form:i.form}):n.trigger(p,{sender:n,originalEvent:e.originalEvent,step:l,button:d})||(n._select(o-1),n._selectStepper(o-1),n.ajaxLoad||n.trigger(a,{sender:n,step:l}),n.ajaxLoad=!1))},_refreshEditorWidgets:function(){var e,n=this.wrapper.find("[data-role='editor']");for(e=0;e<n.length;e+=1)t(n[e]).getKendoEditor().refresh()},_resetClickHandler:function(e){this.trigger(d,{sender:this,originalEvent:e,button:t(e.target).getKendoButton()})},_selectStepper:function(t){var e=this.stepper,n=e.steps()[t].element.find(".k-step-link");e.select(t),e.wrapper.find(".k-step-link").attr(v,!1),n.attr(v,!0).trigger("focus")},_stepper:function(){var e=this.wrapper,r=t("<div>").prependTo(e),s=this.options,i=s.stepper,o=s.steps.map(this._mapStepForStepper);i.steps=o,i.orientation=s.contentPosition===S?"horizontal":"vertical",i.selectOnFocus=!0,i.kendoKeydown=function(t){t.keyCode===n.keys.TAB&&(t.preventKendoKeydown=!0)},this.stepper=r.kendoStepper(i).getKendoStepper(),this._stepperAriaAttributes()},_stepperAriaAttributes:function(){var t,e,n=this.stepper,r=this.wrapper.attr(B)||"wizard",s=n.steps();if(s)for(n.element.find(".k-step-list").attr(z,"tablist"),e=0;e<s.length;e+=1)t=!1,0===e&&(t=!0),s[e].element.attr(z,"none").find("a").attr(z,"tab").attr("aria-controls",r+"-"+e).attr(v,t)},_stepperSelectHandler:function(t){var e=this,n=e.options.validateForms,r=t.sender,s=t.step,i=e.currentStep.options.index,o=s.getIndex(),d=e._steps[o],l=e.currentStep;return o>i&&n&&l.form&&!l.form.validator.validate()||o<i&&n&&!1!==n.validateOnPrevious&&l.form&&!l.form.validator.validate()?(t.preventDefault(),void e.trigger(g,{sender:e,step:l,form:l.form})):void(e.trigger(p,{sender:e,originalEvent:t.originalEvent,step:d,stepper:r})?t.preventDefault():(e._select(o),r.wrapper.find(".k-step-link").attr(v,!1),s.element.find(".k-step-link").attr(v,!0),e.ajaxLoad||e.trigger(a,{sender:e,step:d}),e.ajaxLoad=!1))},_triggerActivate:function(t){this._changeStep(t),this.trigger(a,{sender:this,step:t})},_triggerError:function(t,e,r){n.ui.progress(this.wrapper,!1),this.trigger(f,{sender:this,xhr:t,status:e,step:r})},_triggerContentLoad:function(t){n.ui.progress(this.wrapper,!1),this.trigger(m,{sender:this,step:t})},_wrapper:function(){var t=this,e=t.element,n=t.options.contentPosition;t.wrapper=e,t.wrapper.addClass(A),n===k?t.wrapper.addClass(j+" "+F):n===x?t.wrapper.addClass(j+" "+N):t.wrapper.addClass(E)}}),n.wizard={Step:D},n.ui.plugin(P)}));
//# sourceMappingURL=kendo.wizard.min.js.map
