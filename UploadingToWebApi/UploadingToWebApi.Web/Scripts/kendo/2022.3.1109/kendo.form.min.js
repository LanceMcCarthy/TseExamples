/**
 * Kendo UI v2022.3.1109 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e){"function"==typeof define&&define.amd?define(["kendo.editable.min"],e):e()}((function(){var e,t,l,i,a,n,o,r,d,s,f,p,u,m,b,c,v,_,g,h,y;e=window.kendo.jQuery,t=window.kendo,l=t.ui,i=".kendoForm",a=l.Widget,n=e.extend,o="validate",r="validateField",d="change",s="submit",f="clear",p="equalSet",u="group",m="aria-describedby",b="data-stop",c="data-role",v=".",_={form:"k-widget k-form",horizontal:"k-form-horizontal",vertical:"",field:"k-form-field",fieldsContainer:"k-form-fields-container",fieldWrap:"k-form-field-wrap",fieldError:"k-form-field-error",fieldHint:"k-form-hint",fieldset:"k-form-fieldset",layout:"k-form-layout",legend:"k-form-legend",label:"k-label k-form-label",emptyLabel:"k-form-label k-label-empty",optional:"k-label-optional",buttonsContainer:"k-form-buttons",buttonsEnd:"k-buttons-end",submit:"k-form-submit",clear:"k-form-clear",invalid:"k-invalid",hidden:"k-hidden"},g="horizontal",h="vertical",y=a.extend({init:function(e,l){var i=this;a.fn.init.call(i,e,l),i.options=t.deepExtend({},i.options,l),l&&l.formData&&(i.options.formData=l.formData),i._wrapper(),i._setFields(),i._setModel(),i._renderContainers(),i._renderButtons(),i._editable(),i._renderBoolLabels(),i._renderFieldsHints(),i._setEvents()},events:[r,o,d,s,f],options:{name:"Form",orientation:h,validatable:{validateOnBlur:!0,validationSummary:!1,errorTemplate:null},buttonsTemplate:null,messages:{submit:"Submit",clear:"Clear",optional:"(Optional)"},layout:"",grid:{},formData:{},items:[],formatLabel:null,focusFirst:!1},_noLabelfieldTemplate:"<div class='#:styles.field# #if (colSpan) { # k-colspan-#:colSpan# # } # #if (hidden) { ##:styles.hidden## } #'><span class='#:styles.emptyLabel#'></span><div class='k-form-field-wrap' data-container-for='#:field#'></div></div>",_fieldTemplate:"<div class='#:styles.field# #if (colSpan) { # k-colspan-#:colSpan# # } # #if (hidden) { ##:styles.hidden## } #'># if (label && !hidden) { # <label class='#:styles.label#' for='#:id#' id='#:id#-form-label'># if (typeof label.encoded != 'undefined' && label.encoded === false) {##= label.text || label ## } else { ##: label.text || label ## } ## if (label.optional) { # <span class='#:styles.optional#'>#:optional#</span>  #}#</label># } #<div class='k-form-field-wrap' data-container-for='#:field#'></div></div>",_boolLabelTemplate:"<label class='k-checkbox-label' for='#:id#' id='#:id#-form-label'># if (typeof label.encoded != 'undefined' && label.encoded === false) {##= label.text || label ## } else { ##: label.text || label ## } ## if (label.optional) { # <span class='#:styles.optional#'>#:optional#</span>  #}#</label>",_groupTemplate:"<fieldset class='#:styles.fieldset# #if (colSpan) { #  k-colspan-#:colSpan# # }#'><legend class='#:styles.legend#'>#:label.text || label #</legend></fieldset>",_buttonsTemplate:"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary #:styles.submit#' type='submit'><span class='k-button-text'>#:messages.submit#</span></button><button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base #:styles.clear#'><span class='k-button-text'>#:messages.clear#</span></button>",_errorTemplate:"<span class='k-form-error' id='#=field#-form-error'><div>#=message#</div></span>",_hintTemplate:"<div class='k-form-hint' id='#=id#-form-hint'><span>#=message#</span></div>",_wrapper:function(){var e=this,t=e.options,l=y.styles,i=t.width,a=t.height;e.wrapper=e.element.addClass(l.form).addClass(l[t.orientation]),a&&e.wrapper.height(a),i&&e.wrapper.css("max-width",i),e.layoutWrapper=e._setupLayoutContainer(e.wrapper,{grid:t.grid,layout:t.layout})},_flattenFields:function(e){for(var t=[].concat(e),l=t.shift(),i=[],a=[].push;l;)l.items?a.apply(t,l.items):a.call(i,l),l=t.shift();return i},_defaultLabel:function(e){var l=this.options.formatLabel;if(e.length)return t.isFunction(l)?l(e):e.split(/(.*[a-z])(?=[A-Z])/).join(" ").trim()+":"},_formatLabel:function(t,l){return void 0!==(e.isPlainObject(l)?l.text:l)?l:this._defaultLabel(t)},_defaultFields:function(){var e,t=this.options,l=Object.keys(t.formData||{}),i=t.items||{},a=[];if(i.length)return i;for(var n=0;n<l.length;n+=1)e=l[n],a.push({field:e,id:e});return a},_setFields:function(){var e,i,a,o,r,d=this,s=d._flattenFields(d._defaultFields()),f=d.options.formData||{};for(var p in d._fields=[],s)i=f[(e=s[p]).field],a="string"==typeof e.editor?e.editor:t.type(i&&t.parseDate(i.toString())||i),o=t.isFunction(e.editor)?e.editor:l.Editable.fn.options.editors[a]?"":e.editor,d._isHidden(e.editor)||(e.label?r={"aria-labelledby":e.id||e.field+"-form-label"}:e.attributes&&e.attributes["aria-label"]||(r={"aria-label":e.name||e.field})),e=n(!0,{label:e.label||e.name||e.field,optionalText:d.options.messages.optional},e,{id:e.id||e.field,name:e.name||e.field,type:a,editor:o,attributes:r,isHidden:d._isHidden(e.editor)||d._isAntiForgeryToken(e.name||e.field)}),d._fields[p]=e},_setModel:function(){var e=this,l=e.options,i=l.formData||{};if(l.formData instanceof t.data.ObservableObject)e._model=i;else{var a=t.data.Model.define({fields:e._fields});e._model=new a(i)}},_editable:function(){var e=this,t=e.options,l=e.options.validatable;e._addEditableMvvmAttributes(),e.editable=e.wrapper.kendoEditable({model:e._model,fields:e._fields||[],validateOnBlur:l.validateOnBlur,validationSummary:l.validationSummary,errorTemplate:l.errorTemplate||e._errorTemplate,clearContainer:!1,skipFocus:!t.focusFirst,target:e}).getKendoEditable(),e.validator=e.editable.validatable,e._removeEditableMvvmAttributes()},_addEditableMvvmAttributes:function(){this.wrapper.attr(c,"editable")},_removeEditableMvvmAttributes:function(){this.wrapper.attr(b,!0).attr(c,"form")},_getItemTemplate:function(e){return e===u?this._groupTemplate:this._fieldTemplate},_isHidden:function(e){return"string"==typeof e&&"hidden"===e},_isAntiForgeryToken:function(e){return e===l.Editable.antiForgeryTokenName},_renderField:function(e){var l,i=this,a=y.styles,n=i.options.orientation===g,o=i._model.fields&&i._model.fields[e.field]&&i._model.fields[e.field].type,r=o&&"boolean"===o;return l=r&&n?i._noLabelfieldTemplate:i._fieldTemplate,t.template(l)({styles:a,id:e.id||e.field||"",field:e.field||"",label:r?null:i._formatLabel(e.field,e.label),colSpan:e.colSpan||"",optional:i.options.messages.optional,hidden:i._isHidden(e.editor)||i._isAntiForgeryToken(e.field)})},_toggleFieldErrorState:function(e,t){var l=e.closest(v+_.field);l.length&&l.toggleClass(_.fieldError,t)},_renderBoolLabels:function(){for(var e,l,i=this,a=y.styles,n=i._fields,o=0;o<n.length;o+=1)e=n[o],(l=i.wrapper.find("[name='"+e.name+"']:not([type='hidden'])"))&&e.label&&!e.isHidden&&"boolean"===e.type&&l.after(t.template(i._boolLabelTemplate)({styles:a,id:e.id||e.field||"",optional:i.options.messages.optional,label:i._formatLabel(e.field,e.label)}))},_renderFieldsHints:function(){for(var l,i,a,n,o,r=this,d=r._fields,s=0;s<d.length;s+=1)l=d[s],(a=r.wrapper.find("[name='"+l.name+"']"))&&l.hint&&!l.isHidden&&(o=e(t.template(r._hintTemplate)({message:l.hint||"",id:l.id})),r._associateHintContainer(a,o.attr("id")),(i=t.widgetInstance(a))&&(a=(n=i.element.next("label[for='"+i.element.attr("id")+"']")).length?n:i.wrapper),r.validator._errorsByName(l.name).length&&(o.toggleClass(_.hidden),t.removeAttribute(a,m,o.attr("id"))),o.insertAfter(a))},_associateHintContainer:function(e,l){var i=t.getWidgetFocusableElement(e);i&&l&&t.toggleAttribute(i,m,l)},_toggleHint:function(e,t){var l,i=e.closest(v+_.field);i.length&&(l=i.find(v+_.fieldHint)).length&&(l.toggleClass(_.hidden,t),this._associateHintContainer(e,l.attr("id")))},_renderGroup:function(l){var i,a,n,o=this,r=l.type;n=a=e(t.template(o._getItemTemplate(r))({styles:_,label:l.label||"",colSpan:l.colSpan})),n=o._setupLayoutContainer(a,{grid:l.grid,layout:l.layout})||a;for(var d=0;d<l.items.length;d+=1)i=l.items[d],n.append(o._renderField(i));return a},_renderContainers:function(){for(var e,t,l=this,i=l._defaultFields(),a="grid"===l.options.layout?l.layoutWrapper:l.wrapper,n=0;n<i.length;n+=1)t=(e=i[n]).type===u?l._renderGroup(e):l._renderField(e),a.append(t)},_renderButtons:function(){var l,i=this,a=i.wrapper,n=i.options,o=n.messages,r=y.styles,d=n.orientation===g,s=a.find(v+r.buttonsContainer);s.length||(s=e("<div />").addClass(r.buttonsContainer).addClass(d?r.buttonsEnd:"")),l=null!==n.buttonsTemplate?n.buttonsTemplate:i._buttonsTemplate,s.append(t.template(l)({styles:r,messages:o})),i.element.append(s)},_setupLayoutContainer:function(t,l){var i,a=l.layout,n=l.grid,o=[];return"string"==typeof a&&""!==a&&(i=e("<div></div>").appendTo(t).addClass(_.layout),o.push("k-d-"+a)),"grid"===a&&"object"==typeof n&&("number"==typeof n.cols?o.push("k-grid-cols-"+n.cols):"string"==typeof n.cols&&i.css("grid-template-columns",n.cols),"number"!=typeof n.gutter&&"string"!=typeof n.gutter||i.css("grid-gap",n.gutter)),i&&i.addClass(o.join(" ")),i},_setEvents:function(){var e=this;e.validator.bind("validateInput",e._validateField.bind(e)).bind(o,e._validate.bind(e)),e.wrapper.on(s+i,e._submit.bind(e)).on(f+i,e._clear.bind(e)).on("click.kendoForm"+i,v+_.clear,e._clear.bind(e)),e._changeHandler||(e._changeHandler=e._change.bind(e)),e._model.bind(d,e._changeHandler)},_validateField:function(e){var t=this,l={model:t._model.toJSON(),valid:e.valid,field:e.field,error:e.error,input:e.input};t._toggleFieldErrorState(l.input,!l.valid),t._toggleHint(l.input,!l.valid),t.trigger(r,l)&&e.preventDefault()},_validate:function(e){var t={model:this._model.toJSON(),valid:e.valid,errors:e.errors};this.trigger(o,t)},_change:function(e){var t=e.field,l={field:t,value:this._model[t]};this.trigger(d,l)},_submit:function(e){var t=this._model.toJSON();this.trigger(s,{model:t})&&e.preventDefault()},_clear:function(e){e.preventDefault(),this.clear(),this.trigger(f)},validate:function(){var e=this.validator;if(e)return e.validate()},clear:function(){var e=this,l=e._fields,i=e._model,a=e.editable,n=e.validator.options.validateOnBlur;e.validator.reset(),n&&i.unbind("set").unbind(p);for(var o=0;o<l.length;o+=1){var r=l[o].field,d=e.wrapper.find("[name='"+r+"']"),s=t.widgetInstance(d),f=d.is("input[type=hidden]");d.is("[data-role='checkboxgroup']")||d.is("[data-role='radiogroup']")||f||d.val(""),!s&&d.hasClass("k-hidden")&&(s=t.widgetInstance(d.closest(".k-signature"))),s&&(s instanceof t.ui.Upload?s.clearAllFiles():s.value(null)),e._toggleHint(d,!1),"boolean"==typeof i[r]?(d.val("false"),i.set(r,!1)):f||i.set(r,null)}e.wrapper.find(v+_.fieldError).removeClass(_.fieldError),n&&i.bind("set",a._validateProxy).bind(p,a._validateProxy)},setOptions:function(e){var t=this;t.destroy(),t.wrapper.removeClass(_.horizontal).removeAttr(b).empty(),t.init(t.element,e)},destroy:function(){var e=this;e.wrapper.off(i),e._model&&(e._model.unbind(d,e._changeHandler),e._changeHandler=null),a.fn.destroy.call(e.editable),a.fn.destroy.call(e),e.editable&&(e.editable.destroy(),e.editable=null)}}),l.plugin(y),n(!0,y,{styles:_})}));
//# sourceMappingURL=kendo.form.min.js.map
