/**
 * Kendo UI v2022.3.1109 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e){"function"==typeof define&&define.amd?define(["kendo.mobile.scroller.min","kendo.core.min","kendo.toolbar.min","kendo.combobox.min","kendo.drawing.min","kendo.dialog.min","kendo.window.min","kendo.binder.min","kendo.numerictextbox.min","kendo.dropdownlist.min","kendo.upload.min"],e):e()}((function(){(0,window.kendo.jQuery.extend)(kendo,{pdfviewer:{pdfjs:{lib:window.pdfjsLib,isLoaded:function(){if(!window.pdfjsLib){var e=window.console;return e&&e.error&&e.error("PDF.JS required."),!1}return kendo.pdfviewer.pdfjs.lib=window.pdfjsLib,!0}}}});!function(e,t){var o,n=window.kendo,i=n.Class,a=e.extend,s=window.atob,r=i.extend({init:function(e,t){n.pdfviewer.pdfjs.isLoaded()&&(o=n.pdfviewer.pdfjs.lib),this.file=e.file,this.viewer=t},fetchDocument:function(){var t=this,n=e.Deferred(),i=t.viewer.options.messages.errorMessages;return t.file?(t._isBase64Data()&&s&&(t.file.data=s(t.file.data)),o.getDocument(this.file).promise.then((function(o){var a=[];t.pdf=o,t.pagePromises=[],t._downloadData=e.Deferred(),o.getData().then((function(e){var o=new Blob([e],{type:"application/pdf"});t._downloadData.resolve({file:o})}));for(var s=1;s<=o.numPages;s++)t.pagePromises.push(o.getPage(s));Promise.all(t.pagePromises).then((function(e){a=e.map((function(e){var t=e.getViewport({scale:4/3});return{width:t.width,height:t.height}})),n.resolve({total:o.numPages,pages:a})})).catch((function(e){t.viewer._triggerError({error:e.message,message:i.parseError})}))})).catch((function(e){var o=e.name.includes("Missing"),n=o?i.notFound:i.parseError;t.viewer._triggerError({error:e.message,message:n}),o&&t.viewer._renderBlankPage()})),n):n.resolve()},fetchPageData:function(e){return this.pagePromises[e-1]},downloadFile:function(e){var t=this;n.ui.progress(t.viewer.pageContainer,!0),t._downloadData.done((function(o){n.ui.progress(t.viewer.pageContainer,!1);var i=new FileReader;i.readAsDataURL(o.file),i.onload=function(){n.saveAs({dataURI:i.result,fileName:e+".pdf",proxyURL:function(){return i.result}})}}))},_updateDocument:function(e){this.pdf&&this.pdf.loadingTask&&this.pdf.loadingTask.destroy(),this.file=e},_isBase64Data:function(){var e,t=this.file.data,o=t&&t.length;return!(!o||o%4!=0||/[^A-Z0-9+\/=]/i.test(t))&&(-1===(e=t.indexOf("="))||e===o-1||e===o-2&&"="===t[o-1])},renderTextLayer:function(e){o.renderTextLayer(e)}});a(n.pdfviewer.pdfjs,{processor:r})}(window.kendo.jQuery);var e,t,o,n,i,a,s,r,l,d,c,p,h,g,u,m,f,v,w;!function(e,t){var o=window.kendo,n=e.extend,i=o.Class.extend({init:function(e,t){var o=this;o.options=e,o.read=e.read,o.upload=e.upload,o.download=e.download,o.viewer=t},fetchDocument:function(){var t=this,n=e.Deferred(),i=t.viewer.options.messages.errorMessages;return t.read?(e.ajax({type:t.read.type,url:t.read.url,dataType:t.read.dataType,success:function(e){"string"!=typeof e&&(e=o.stringify(e)),n.resolve(JSON.parse(e))},error:function(e){t.viewer._triggerError({error:e.responseText,message:i.parseError})}}),n):n.resolve()},fetchPageData:function(t){var o=this,n=e.Deferred(),i=o.viewer.document.pages[t-1],a={};return a[o.read.pageField]=t,i.geometries.length?n.resolve(i):e.ajax({type:o.read.type,url:o.read.url,data:a,success:function(e){n.resolve(JSON.parse(e))},error:function(e){o.viewer._triggerError({error:e.responseText,message:o.viewer.options.messages.errorMessages.parseError})}}),n},downloadFile:function(e){window.location=this.download.url+"?file="+e},fromJSON:function(e){var t=this.viewer;t._clearPages(),t.document=e,t.document.total=t.document.pages.length,t._renderPages(),t.resize(!0),t.activatePage(1)}});n(o.pdfviewer,{dpl:{processor:i}})}(window.kendo.jQuery),e=window.kendo.jQuery,t=".kendoPDFViewer",o=kendo.ui.Widget,n="change",i="keydown",a=kendo.support.click,s=kendo.attr,r=e.extend,l="aria-disabled",d="k-pager-wrap k-button-group",c="k-i-arrow-end-left",p="k-i-arrow-end-right",h="k-i-arrow-60-left",g="k-i-arrow-60-right",u="k-pager-first",m="k-pager-last",f="k-pager-nav",v="k-disabled",w=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),n.linkTemplate=kendo.template(n.options.linkTemplate),n.element.addClass(d),n._renderLinks(),n._toggleDisabledClass(),n._attachEvents()},options:{linkTemplate:'<a role="button" href="\\#" aria-label="#=text#" title="#=text#" class="k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-pager-nav #= wrapClass #" data-page="#=pageIdx#"><span class="k-button-icon k-icon #= iconClass #"></span></a>',previousNext:!0,input:!0,page:1,total:1,messages:{}},events:[n],_pagerLink:function(e,t,o,n){return this.linkTemplate({iconClass:e,text:t,wrapClass:n||"",pageIdx:o})},_renderLinks:function(){var t=this,o=t.options;o.previousNext&&(t.firstLink=e(t._pagerLink(c,o.messages.first,1,u)),t.prevLink=e(t._pagerLink(h,o.messages.previous,o.page-1)),t.nextLink=e(t._pagerLink(g,o.messages.next,o.page+1)),t.lastLink=e(t._pagerLink(p,o.messages.last,o.total,m))),t.element.append(t.firstLink),t.element.append(t.prevLink),o.input&&t._renderInput(),t.element.append(t.nextLink),t.element.append(t.lastLink)},_toggleDisabledClass:function(){var e=this,t=e.options,o=!t.total;e.nextLink&&e.prevLink&&(e.prevLink.toggleClass(v,o||1===t.page),e.nextLink.toggleClass(v,o||t.page===t.total),e.lastLink.toggleClass(v,o||t.page===t.total),e.firstLink.toggleClass(v,o||1===t.page),e.prevLink.attr(l,o||1===t.page),e.firstLink.attr(l,o||1===t.page),e.nextLink.attr(l,t.page===t.total),e.lastLink.attr(l,t.page===t.total)),e.input&&(e.input.toggleClass(v,t.total<=1),e.input.attr(l,t.total<=1))},_attachEvents:function(){var e=this;e.element.on(a+t,"."+f,e._click.bind(e)),e.element.on(i+t,"."+f,(function(t){t.keyCode===kendo.keys.ENTER&&(e._click(t),t.preventDefault())})),e.input&&e.input.on(i+t,e._keydown.bind(e))},_click:function(t){var o=e(t.currentTarget),n=parseInt(o.attr(s("page")),10);t.isDefaultPrevented()||this._change(n)},_keydown:function(t){var o=t.keyCode,n=kendo.keys,i=e(t.target),a=parseInt(i.val(),10),s=o===n.UP||o===n.DOWN,r=s&&o===n.UP?1:-1;if(s&&(a+=r),o===n.ENTER||s){if(isNaN(a)||a<1||a>this.options.total)return a=this.options.page,void i.val(a);this._change(a),t.preventDefault()}},_change:function(e){var t=this;e>=1&&e<=t.options.total&&(t.options.page=e,t.input&&t.input.val(e),t.prevLink.attr(s("page"),e-1),t.nextLink.attr(s("page"),e+1),t._toggleDisabledClass()),t.trigger(n,{page:e})},setOptions:function(n){var a=this,r=a.options.total;n=e.extend(a.options,n),o.fn.setOptions.call(a,n),n.input&&(r!=n.total?(a._renderInput(),a.input.on(i+t,a._keydown.bind(a))):a.input.val(n.total>0?n.page:1)),n.total>1&&(a.prevLink.attr(s("page"),n.page-1),a.nextLink.attr(s("page"),n.page+1),a.lastLink.attr(s("page"),n.total)),a._toggleDisabledClass()},_renderInput:function(){var e,o,n=this,i=n.options,a=n.element.parent().width()<=480,s=n.element.find(".k-pager-input");n.input&&n.input.off(t),e=i.total>0?kendo.format(i.messages.of,i.total):"",a||(e+=i.total>1?i.messages.pages:i.messages.page),o='<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" aria-label="'+i.page+e+'"></span>'+e,s.length?s.html(o):n.element.append('<span class="k-pager-input k-label">'+o+"</span>"),n.input=n.element.find("input").val(i.total>0?i.page:1)},destroy:function(){this.element.off(t),this.input&&this.input.off(t),o.fn.destroy.call(this)}}),r(kendo.pdfviewer,{Pager:w}),function(e,t){var o=window.kendo,n=e.extend,i="action",a=o.toolbar.Item,s=o.toolbar.TemplateItem,r=o.ui.ToolBar,l={auto:"auto",actual:"actual",fitToWidth:"fitToWidth",fitToPage:"fitToPage"},d="k-i-zoom-out",c="k-i-zoom-in",p=o.template('<select title="#=zoomLevel#" aria-label="#=zoomLevel#">#for(var zoomIndex in zoomLevels){## var zoomLevel = zoomLevels[zoomIndex]; #<option value="#= zoomLevel.percent || (zoomLevel + "%") #">${zoomLevel.text ? zoomLevel.text : zoomLevel + "%"}</option>#}#</select>'),h={pager:{type:"pager",overflow:"never",command:"PageChangeCommand"},spacer:{type:"spacer"},zoomInOut:{type:"buttonGroup",attributes:{class:"k-zoom-in-out-group"},buttons:[{type:"button",icon:"zoom-out",name:"zoomOut",command:"ZoomCommand",showText:"overflow",options:"zoomOut"},{type:"button",icon:"zoom-in",name:"zoomIn",command:"ZoomCommand",showText:"overflow",options:"zoomIn"}]},zoom:{type:"zoom",command:"ZoomCommand",combobox:{zoomLevels:[50,100,150,200,300,400]},enable:!1,overflow:"never"},toggleSelection:{type:"buttonGroup",attributes:{class:"k-toggle-selection-group"},buttons:[{togglable:!0,text:"Enable Selection",command:"EnableSelectionCommand",icon:"cursor",showText:"overflow",name:"toggleSelection",group:"toggle-pan"},{togglable:!0,text:"Enable Panning",command:"EnablePanCommand",icon:"hand",showText:"overflow",name:"togglePan",group:"toggle-pan",selected:!0}]},spacer2:{type:"spacer"},search:{type:"button",text:"Search",command:"OpenSearchCommand",icon:"search",name:"search",showText:"overflow",enable:!1},open:{type:"button",text:"Open",showText:"overflow",name:"open",icon:"folder-open",command:"OpenCommand"},download:{type:"button",text:"Download",showText:"overflow",name:"download",icon:"download",command:"DownloadCommand",enable:!1},print:{type:"button",text:"Print",showText:"overflow",name:"print",icon:"print",command:"PrintCommand",enable:!1}},g=n({},h,{exportAs:{type:"button",text:"Export",showText:"overflow",name:"exportAs",icon:"image-export",command:"ExportCommand"}}),u=a.extend({init:function(t,i){var a=e("<div />");this.options=n(!0,t,i.options.pager),this.toolbar=i,this.toolbar.pager=new o.pdfviewer.Pager(a,n({},t,{change:this._change.bind(this)})),this.element=a,this.element.on("keydown",this._keydown.bind(this)),this.attributes(),this.addUidAttr(),this.addOverflowAttr()},_change:function(e){this.options.change&&this.options.change(e.page)||this.toolbar.action({command:"PageChangeCommand",options:{value:e.page}})},_keydown:function(t){var n=e(t.target),i=t.keyCode,a=this.element.find(":kendoFocusable"),s=a.index(n),r=o.keys;i===r.RIGHT&&a[s+1]?(a[s+1].focus(),t.preventDefault(),t.stopPropagation()):i===r.LEFT&&a[s-1]&&(a[s-1].focus(),t.preventDefault(),t.stopPropagation())}});o.toolbar.registerComponent("pager",u);var m=a.extend({init:function(e,t){this.options=n(!0,e,{messages:t.options.messages.zoom}),s.fn.init.call(this,"",e,t),this.toolbar.zoom=this,t.options.scale&&(this._initValue=100*t.options.scale+"%"),this.options.combobox&&this._buildComboBox(),this.enable(e.enable)},_buildComboBox:function(){var t,i=this,a=i.options.messages,s=i.options.combobox,r=[{percent:l.auto,text:a.autoWidth},{percent:l.actual,text:a.actualWidth},{percent:l.fitToWidth,text:a.fitToWidth},{percent:l.fitToPage,text:a.fitToPage}];r=r.concat(s.zoomLevels),t=e(p({zoomLevels:r,zoomLevel:a.zoomLevel})),o.support.mobileOS?i.element.append(t):(t=t.kendoComboBox(n({autoWidth:!0,clearButton:!1,value:i._initValue},s)).getKendoComboBox(),i.element.append(t.wrapper),i.combobox=t,i._currentValue=t.value()),t.bind("change",o.throttle(i.change.bind(i),300))},change:function(e){var t,o=e.sender?e.sender.value():e.target.value;if(o.toString().match(/^[0-9]+%?$/))t=parseInt(o.replace("%",""),10)/100;else if(!l[o])return this.combobox&&this.combobox.value(this._currentValue),void e.preventDefault();this._currentValue=o,this.toolbar.action({command:"ZoomCommand",options:{scale:t||o}})},enable:function(e){this.element.find(".k-button, select").toggleClass("k-disabled",!e),this.combobox&&this.combobox.enable(e)},destroy:function(){this.combobox&&this.combobox.destroy()}});o.toolbar.registerComponent("zoom",m);var f=r.extend({init:function(e,t){var o=this,n=t.items&&t.items.length?t.items:Object.keys(h);o.options=t,t.items=o._updateItems(n),r.fn.init.call(o,e,t),o.bind({click:o._click,toggle:o._click}),t.viewer.bind({update:o._update.bind(o)})},events:[i],_updateItems:function(t){var n=this,i=this.options.messages;return t.map((function(t){t=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name?t.name:t;var a,s=e.isPlainObject(t)?t:g[t],r=s.name;return"zoomIn"===t.name||"zoomOut"===t.name?t.text=n.options.messages.zoom[t.name]:"zoom"!==t&&"zoom"!==t.name&&"zoom"!==t.type||(e.isPlainObject(t)?t.overflow="never":t={overflow:"never"}),"buttonGroup"===s.type?s.buttons=n._updateItems(s.buttons):a="pager"!==s.type?{name:r,attributes:{"aria-label":i[r],title:i[r],"data-command":s.command},overflow:s.overflow,fillMode:"flat"}:{overflow:"never"},s.text&&(a.text=i[s.name]||s.text),o.deepExtend(s,a),s}))},_click:function(t){var o,n=e(t.target).closest(".k-button"),i=n.data("command"),a=n.find("."+c).length>0,s=n.find("."+d).length>0;i&&(o=e.extend({},t.options,{zoomIn:a,zoomOut:s,updateComboBox:a||s}),this.action({command:i,options:o}))},_update:function(e){var t={page:e.page||1,total:e.total||1},o=this.element.find(":kendoFocusable").not("[tabindex=-1]");this.zoom&&(this.zoom.enable(!e.isBlank),"zoom"===e.action&&this._updateZoomComboBox(e.zoom)),("pagechange"===e.action||e.isBlank)&&this.pager&&this.pager.setOptions(t),this.enable(this.wrapper.find(".k-toggle-selection-group"),!e.isBlank),this.enable(this.wrapper.find(".k-zoom-in-out-group"),!e.isBlank),this.enable(this.wrapper.find("[data-command='OpenSearchCommand']"),!e.isBlank),this.enable(this.wrapper.find("[data-command='DownloadCommand']"),!e.isBlank),this.enable(this.wrapper.find("[data-command='PrintCommand']"),!e.isBlank),this.element.find(":kendoFocusable").not("[tabindex=-1]").attr("tabindex",-1),o.attr("tabindex",0)},_updateZoomComboBox:function(e){e===l.auto||e===l.actual||e===l.fitToPage||e===l.fitToWidth||(e=Math.round(100*e)+"%"),this.zoom&&this.zoom.combobox&&(this.zoom._currentValue=e,this.zoom.combobox.value(e))},action:function(e){this.trigger(i,e)},destroy:function(){this.pager&&this.pager.destroy(),this.zoom&&this.zoom.destroy(),r.fn.destroy.call(this)}});n(o.pdfviewer,{Toolbar:f,DefaultTools:h})}(window.kendo.jQuery),function(e,t){var o=e.extend,n=e.noop,i=kendo.drawing,a=i.Group,s=i.Surface,r="render",l=kendo.Class,d={Path:"path",MultiPath:"multipath",Rect:"rect",Image:"image",Text:"text"},c=l.extend({init:function(t,o){this.viewer=o,this.processor=t.processor,this.options=t,this.pageNumber=t.number,this.element=e("<div class='k-page' />"),this.element.attr(kendo.attr("number"),this.pageNumber),this._updatePageSize(t),this.width=t.width,this.height=t.height},resize:function(e){var t=this.element;this._updatePageSize({width:Math.min(t.width()*e,this.width),height:Math.min(t.height()*e,this.height)})},_updatePageSize:function(e){this.element.width(e.width).height(e.height)},destroy:function(){kendo.destroy(this.element)},render:n}),p=c.extend({draw:function(){var e=this,t=e.options.geometries;e.group=new a,e.surface.draw(e.group),e._drawGeometries(t),e.viewer.trigger(r,{page:this}),kendo.ui.progress(e.element,!1)},load:function(){var e=this;!e.loaded&&e.processor&&(e.processor.fetchPageData(e.pageNumber).then((function(t){e.options=t,e._initSurface(),e.draw()})),e.loaded=!0)},_initSurface:function(){var e={width:this.element.width(),height:this.element.height()},t=o({width:this.width,height:this.height},this.viewer.options.view);this.surface=new s(this.element,t),this._updatePageSize(e)},_drawGeometries:function(e){var t,o=this;if(e)for(var n=0;n<=e.length;n++){var i=e[n];if(i){switch(i.type){case d.Path:case d.MultiPath:t=o._drawPath(i);break;case d.Rect:t=o._drawRect(i);break;case d.Image:t=o._drawImage(i);break;case d.Text:t=o._drawText(i);break;default:t=null}t&&o.group.append(t)}}},_drawRect:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new i.Rect(t,{transform:this._getMatrix(e.transform),fill:e.fillOptions,stroke:e.strokeOptions})},_drawImage:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new i.Image(e.src,t,{transform:this._getMatrix(e.transform)})},_drawText:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions,font:e.font};return new kendo.drawing.Text(e.content,e.point,t)},_drawPath:function(e){for(var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions},o=new i.MultiPath(t),n=0;n<e.paths.length;n++){var a=e.paths[n];if(!a.segments)return;o.moveTo.apply(o,a.point);for(var s=0;s<a.segments.length;s++){var r=a.segments[s];(1===r.points.length?o.lineTo:o.curveTo).apply(o,r.points)}a.closed&&o.close()}return o},_getMatrix:function(e){var t=Object.create(kendo.geometry.Matrix.prototype);return kendo.geometry.Matrix.apply(t,e),t}}),h=c.extend({init:function(t,o){var n,i=this;n=e("<canvas style='width: 100%; height: 100%;' />"),i.canvas=n.get(0),c.fn.init.call(i,t,o),i.canvas.width=i.width,i.canvas.height=i.height,i.element.append(n)},load:function(t,o){var n=this,i=e.Deferred();if(n._scale!==t||o)return n._scale&&n._scale!==t&&!o?(n._scale=t,n.render(t),i.resolve(n)):(n.processor&&n.processor.fetchPageData(n.pageNumber).then((function(e){n._page=e,n._renderPromise=n.render(t).then((function(){n.viewer.trigger(r,{page:n})})),i.resolve(n)})),n._scale=t,n.loaded=!0,i)},render:function(e){var t=this,o=window.devicePixelRatio>=2?window.devicePixelRatio:2,n=this.canvas.getContext("2d"),i=this._page.getViewport({scale:e});return this.canvas.width=i.width*o,this.canvas.height=i.height*o,n.scale(o,o),this._scale=e,this._dpr=o,this._renderTask&&(this._renderTask.cancel(),this._renderTask=null),this._updatePageSize({width:i.width,height:i.height}),this._renderTask=this._page.render({canvasContext:n,viewport:i}),this._renderTextLayer(i),this._renderTask.promise.then((function(){t._renderTask=null})).catch((function(){}))},_renderTextLayer:function(t){var o=this,n=o._page;o.textLayer&&o.textLayer.remove(),o.textLayer=e("<div class='k-text-layer'></div>").get(0),o.element.append(o.textLayer),n.getTextContent({normalizeWhitespace:!0}).then((function(n){e(o.textLayer).css({height:t.height,width:t.width}).html("");var i={textContent:n,container:o.textLayer,viewport:t,textDivs:[],enhanceTextSelection:!0};o.processor.renderTextLayer(i)}))}});o(kendo.pdfviewer.dpl,{geometryTypes:d,Page:p}),o(kendo.pdfviewer.pdfjs,{Page:h})}(window.kendo.jQuery),function(e,t){var o=kendo.Class,n=e.extend,i=Array.isArray,a=o.extend({init:function(e){var t=this;t.options=n({},t.options,e),t.processDom()},options:{highlightClass:"k-search-highlight",charClass:"k-text-char"},processDom:function(){var e=this;e.targets=i(e.options.target)?e.options.target:[e.options.target],e.textNodes=[],e.charIndex=0,e.text="",e.targets.forEach((function(t){e.traverseToTextNode(t)}));for(var t=0;t<e.textNodes.length;t++)e.processTextNode(e.textNodes[t])},traverseToTextNode:function(e){if(3===e.nodeType)this.textNodes.push(e);else for(var t=0;t<e.childNodes.length;t++)this.traverseToTextNode(e.childNodes[t])},processTextNode:function(t){var o,n=this,i=t.textContent;n.text=n.text+i,i.length>0&&((o=e(t).wrap("<span>").parent()).empty(),n.splitChars(o.get(0),i),o.children().unwrap())},splitChars:function(e,t){for(var o=this,n="",i=0;i<t.length;i++)n=n+"<span class='"+o.options.charClass+"' "+kendo.attr("char-index")+"="+o.charIndex+">"+t[i]+"</span>",o.charIndex++;e.innerHTML=n},search:function(e,t){var o,n=this,i=new RegExp(e,t?"g":"gi");if(n.matches=[],n.resetMark(),n.resetHighlight(),n.resetMatchIndex(),""!==e){for(o=i.exec(n.text);o;)n.matches.push({startOffset:o.index,endOffset:o.index+o[0].length}),o=i.exec(n.text);n.highlightAll(),n.mark()}},highlightAll:function(){var e=this;e.matches.forEach((function(t,o){var n=t.startOffset,i=t.endOffset;e.highlight(n,i,o+1)}))},highlight:function(t,o,n){for(var i=this,a=t;a<o;a++)e(i.targets).find("."+i.options.charClass+"["+kendo.attr("char-index")+"="+a+"]").addClass(i.options.highlightClass).attr(kendo.attr("match-index"),n)},resetHighlight:function(){var t=this;e(t.targets).find("."+t.options.highlightClass).removeClass(t.options.highlightClass)},resetMatchIndex:function(){e(this.targets).find("."+this.options.charClass+"["+kendo.attr("match-index")+"]").removeAttr(kendo.attr("match-index"))},mark:function(){var t=this;t.currentIndex||0===t.currentIndex?t.currentIndex>t.matches.length?t.currentIndex=t.matches.length:t.resetMark():t.currentIndex=0,e(t.targets).find("."+t.options.charClass+"["+kendo.attr("match-index")+"="+t.currentIndex+"]").wrapInner("<mark>")},resetMark:function(){e(this.targets).find("mark").contents().unwrap()},nextMatch:function(){var e=this;e.currentIndex++,e.currentIndex>e.matches.length&&(e.currentIndex=1),e.mark()},previousMatch:function(){var e=this;e.currentIndex--,e.currentIndex<1&&(e.currentIndex=e.matches.length),e.mark()},getMarkedIndex:function(){return this.matches.length?this.currentIndex:0},getFirstMarked:function(){return e(this.targets).find("mark").eq(0)},destroy:function(){var t=this;t.resetMark(),e(t.targets).children("span:not(."+t.options.charClass+")").each((function(t,o){e(o).text(e(o).text())}))}});n(kendo.pdfviewer,{SearchDOM:a})}(window.kendo.jQuery),function(e,t){var o=window.kendo,n=e.extend,i=o.Class,a=".svg",s=".png",r=o.keys,l=i.extend({init:function(t){this.options=n(t,{actions:[{text:t.messages.dialogs.okText}]}),this._dialog=e("<div />").kendoDialog(this.options).getKendoDialog()},open:function(){this._dialog.center().open()}}),d=i.extend({init:function(e){return this.options=n(e,this.options,{fileFormats:[{description:e.messages.dialogs.exportAsDialog.png,extension:s},{description:e.messages.dialogs.exportAsDialog.svg,extension:a}],title:e.messages.dialogs.exportAsDialog.title,open:function(){this.center()}}),this._initializeDialog(),this},options:{extension:s,autoFocus:!0,resizable:!1,modal:{preventScroll:!0},width:"90%",maxWidth:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div><div class='k-edit-field'><span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input class='k-input-inner' data-bind='value: name' /></span></div><div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='description' data-value-field='extension' data-bind='value: extension, source: fileFormats'></select></div></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.page #:</label></div><div class='k-edit-field'><input data-role='numerictextbox' data-format='n0' data-min='1' data-max='#: total #' data-bind='value: page' /></div><div class='k-action-buttons'><button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary' data-bind='click: apply'><span class='k-button-text'>#: messages.save #</span></button><button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base' data-bind='click: close'><span class='k-button-text'>#: messages.cancel #</span></button></div>"},_updateModel:function(e){e.pagesCount&&this.viewModel.set("pagesCount",e.pagesCount),e.page&&this.viewModel.set("page",e.page)},_initializeDialog:function(){var t=this,n=t.options,i=n.messages.dialogs,a=e("<div class='k-pdf-viewer-window k-action-window k-popup-edit-form' />").append(o.template(n.template)({total:n.pagesCount,messages:i})).kendoWindow(n).getKendoWindow();return t.viewModel=o.observable({title:i.exportAsDialog.title,name:i.exportAsDialog.defaultFileName,extension:n.extension,fileFormats:n.fileFormats,pagesCount:n.pagesCount,page:1,apply:t.apply.bind(this),close:function(){a.close()}}),t._dialog=a,o.bind(a.element,t.viewModel),a},open:function(){this._dialog.center().open()},apply:function(){this._dialog.close(),this.options.apply({fileName:this.viewModel.name+this.viewModel.extension,extension:this.viewModel.extension,page:this.viewModel.page})}}),c=i.extend({init:function(e){this.options=n({},e,this.options)},options:{resizable:!1,template:"<div class='k-search-container'><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-search-dialog-draghandle'><span class='k-button-icon k-icon k-i-handler-drag'></span></button><span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input class='k-search-dialog-input k-input-inner' data-bind='value: boundValue, events: { keyup: onKeyup, input: onInput }' aria-label='#: messages.inputLabel #' title='#: messages.inputLabel #' /><span class='k-input-suffix'><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-match-case-button k-match-case-button' data-bind='css: {k-selected: matchCase}, click: matchCaseClick' aria-label='#: messages.matchCase #' title='#: messages.matchCase #'><span class='k-icon k-i-convert-lowercase'></span></button></span></span><span class='k-search-matches'><span data-bind='text: matchIndex'></span> #: messages.of # <span data-bind='text: matches'></span></span><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: prev' aria-label='#: messages.previous #' title='#: messages.previous #'><span class='k-button-icon k-icon k-i-arrow-up'></span></button><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: next' aria-label='#: messages.next #' title='#: messages.next #'><span class='k-button-icon k-icon k-i-arrow-down'></span></button><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: close' aria-label='#: messages.close #' title='#: messages.close #'><span class='k-button-icon k-icon k-i-close'></<span></button></div>"},open:function(){var e=this;e.dialog||e._initializeDialog(),e.dialog.open()},_initializeDialog:function(){var t=this,i=o.template(t.options.template),a=e("<div class='k-pdf-viewer-search-dialog'></div>").append(i({messages:t.options.messages})),s={top:t.options.position.top+16,left:t.options.position.left+16};t.dialog=new o.ui.Window(a,n({},t.options,{autoFocus:!1,title:!1,position:{top:s.top,left:s.left},minHeight:30,draggable:{dragHandle:".k-search-dialog-draghandle"},activate:function(e){e.sender.element.find(".k-search-dialog-input").trigger("focus")}})),t.searchModel=o.observable({boundValue:"",searchText:"",matchCase:!1,matchIndex:0,matches:0,matchCaseClick:function(){this.set("matchCase",!this.matchCase)},next:t.options.next,prev:t.options.prev,close:function(){this.set("boundValue",""),t.dialog.close()},onKeyup:function(e){var t=e.keyCode,o=e.shiftKey?this.prev:this.next;t===r.ENTER&&(o(),e.preventDefault())},onInput:function(e){this.set("searchText",e.target.value)}}),o.bind(t.dialog.element,t.searchModel)}});n(o.pdfviewer,{dialogs:{ErrorDialog:l,ExportAsDialog:d,SearchDialog:c}})}(window.kendo.jQuery),function(e,t){var o=window.kendo,n=e.extend,i=JSON.parse,a=o.ui.progress,s=o.Class,r=s.extend({init:function(e){this.options=e,this.viewer=e.viewer,this.errorMessages=this.viewer.options.messages.errorMessages}}),l=r.extend({init:function(e){r.fn.init.call(this,e),this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var t={select:this._onSelect.bind(this),success:this._onSuccess.bind(this),error:this._onError.bind(this),complete:this._onComplete.bind(this),showFileList:!1,multiple:!1,validation:{allowedExtensions:[".pdf"]}};this.upload&&n(t,{async:{saveUrl:this.upload.url,autoUpload:!0,saveField:this.upload.saveField}});var o=e('<input name="files" accept=".pdf" type="file" />').kendoUpload(t).getKendoUpload();return this.viewer._upload=o,o},_onComplete:function(){a(this.viewer.pageContainer,!1)},_onSuccess:function(t){var o=i(t.response);e.isPlainObject(o)?this.viewer.processor.fromJSON(o):this.viewer._triggerError({error:o,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var t=this,o=e.files[0];if(a(t.viewer.pageContainer,!0),!t.viewer.trigger("open",{file:o})&&!t.upload)if(".pdf"===o.extension.toLowerCase()){var n=new FileReader;n.onload=function(e){var o=e.target.result;t.viewer.fromFile(o)},n.onerror=function(){t.viewer._triggerError({error:o,message:t.errorMessages.parseError})},n.readAsArrayBuffer(o.rawFile)}else t.viewer._triggerError({error:o,message:t.errorMessages.notSupported})}}),d=r.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),c=r.extend({exec:function(){if(this.viewer.document){var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}else this.viewer._triggerError({message:this.errorMessages.notFound})}}),p=r.extend({init:function(t){t=e.extend(t,this.options),r.fn.init.call(this,t)},exec:function(){var e=this.viewer._saveDialog||this._initDialog();e._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page}),e.open()},apply:function(e){var t=e.extension;".png"===t?this.viewer.exportImage(e):".svg"===t&&this.viewer.exportSVG(e)},_initDialog:function(){return this.viewer._saveDialog=new o.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages}),this.viewer._saveDialog}}),h=r.extend({exec:function(){this.viewer._toggleSelection(!0)}}),g=r.extend({exec:function(){this.viewer._toggleSelection(!1)}}),u=r.extend({init:function(e){var t=this;t.viewer=e.viewer,t.viewer.searchDialog||(t.viewer.searchDialog=new o.pdfviewer.dialogs.SearchDialog({position:{top:t.viewer.pageContainer.offset().top,left:t.viewer.pageContainer.offset().left},messages:t.viewer.options.messages.dialogs.search,open:t._open.bind(t),next:t._next.bind(t),prev:t._prev.bind(t),close:t._close.bind(t)})),r.fn.init.call(t,e)},exec:function(){this.viewer.searchDialog.open()},_open:function(){var e=this;e.changeHandler=e._change.bind(e),e.zoomStartHandler=e._closeDialog.bind(e),e.openFileHandler=e._closeDialog.bind(e),e.viewer._searchDOM||(e.viewer._initSearchDOM(),e.viewer.searchDialog.searchModel.bind("change",e.changeHandler),e.viewer.bind("zoomStart",e.zoomStartHandler),e.viewer.bind("open",e.openFileHandler))},_close:function(){var e=this,t=e.viewer._searchDOM;e.viewer.searchDialog.searchModel.unbind("change",e.changeHandler),e.viewer.unbind("zoomStart",e.zoomStartHandler),e.viewer.unbind("open",e.openFileHandler),t.destroy(),delete e.viewer._searchDOM,e._updateSearchModel()},_change:function(e){var t=this,o=t.viewer._searchDOM,n=e.field,i=t.viewer.searchDialog.searchModel,a=i[n];if(o)switch(n){case"searchText":o.search(a,i.matchCase),t._updateSearchModel();break;case"matchCase":o.search(i.searchText,a),t._updateSearchModel()}},_next:function(){var e=this.viewer._searchDOM;e.matches&&e.matches.length&&(e.nextMatch(),this._updateSearchModel())},_prev:function(){var e=this.viewer._searchDOM;e.matches&&e.matches.length&&(e.previousMatch(),this._updateSearchModel())},_updateSearchModel:function(){var e=this,t=e.viewer._searchDOM,o=e.viewer.searchDialog.searchModel;t?(o.set("matches",t.matches.length),o.set("matchIndex",t.getMarkedIndex()),e._scrollToMark()):(o.set("searchText",""),o.set("matches",0),o.set("matchIndex",0),o.set("matchCase",!1))},_scrollToMark:function(){var e,t=this.viewer._searchDOM.getFirstMarked(),o=this.viewer._scroller;t.length&&(e=t.offset().top-o.scrollElement.offset().top-100,o.scrollTo(o.scrollLeft,-1*e))},_closeDialog:function(){this.viewer.searchDialog.dialog.close()}}),m=r.extend({exec:function(){var e=this,t=e.options,o=e.viewer,n=t.scale,i=0,a=e.viewer._pageNum,s=o.pageContainer[0].clientHeight,r=1,l=[];if("dpl"!==o.processingLib){n=e._calculateZoom();var d=function(){var t=e.viewer._scroller,n=o._scrollingStarted;t&&t.scrollTop>t.scrollHeight()&&t._resize(),n||(o.activatePage(a),o._scrollingStarted=!1)};n&&(o.zoomScale=n,o._scrollingStarted=!1,o.pages&&(o.pages.forEach((function(e){var t;-1!==o._visiblePages.indexOf(e)&&e.loaded?(l.push(e.render(n)),t=e._page.getViewport({scale:n}).height):(e.resize(n),t=e.element.height()),(i+=t)<=s&&r++})),o._visiblePagesCount!=r&&(o._visiblePagesCount=r,o._loadVisiblePages())),Promise.all(l).then((function(){d(),e._triggerZoomEnd(n)})).catch((function(){d(),e._triggerZoomEnd(n)})))}},_calculateZoom:function(){var e=this.options,t=this.viewer,o=t.options,n=t.pageContainer,i=t._visiblePages&&t._visiblePages[0].canvas,a=t._visiblePages&&t._visiblePages[0]._dpr||2,s=e.scale,r=s;if(t._allowResize=!1,t._autoFit=!1,e.zoomIn?r=s=t.zoomScale+o.zoomRate:e.zoomOut?r=s=t.zoomScale-o.zoomRate:"auto"===s?(t._allowResize=!0,r=t._autoZoomScale):"actual"===s?r=1:"fitToWidth"===s?(t._allowResize=!0,t._autoFit="fitToWidth",r=n.width()/(i.width/a/t.zoomScale)):"fitToPage"===s&&(t._allowResize=!0,t._autoFit="fitToPage",r=n.height()/(i.height/a/t.zoomScale)),!(s<o.zoomMin||s>o.zoomMax)&&!t.trigger("zoomStart",{scale:s}))return e.updateComboBox&&t.toolbar&&t.toolbar._updateZoomComboBox(s),r},_triggerZoomEnd:function(e){this.viewer.trigger("zoomEnd",{scale:e})}}),f=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this;e.viewer.document?(a(e.viewer.pageContainer,!0),e._renderPrintContainer(),e._loadAllPages().then(e.processAfterRender.bind(e))):e.viewer._triggerError({message:this.errorMessages.notFound})},_renderPrintContainer:function(){this.printContainer=e("<div></div>")},_loadAllPages:function(){var t=this,o=t.viewer.pages,n=[],i=[],a=e.Deferred();function s(e){i.push(e._renderPromise)}t._originalScale=t.viewer.zoom();for(var r=0;r<o.length;r++)n.push(o[r].load(3,!0).then(s));return Promise.all(n).then((function(){a.resolve(i)})),a},processAfterRender:function(e){var t=this;Promise.all(e).then((function(){t._renderPrintPages(),setTimeout((function(){t._printDocument(),t.viewer.zoom(t._originalScale),a(t.viewer.pageContainer,!1),delete t._originalScale}),0)}))},_renderPrintPages:function(){for(var e=this.viewer.pages,t=0;t<e.length;t++)this._renderPrintImage(e[t])},_renderPrintImage:function(t){var o=t.canvas,n=e("<div></div>"),i="<img src='"+o.toDataURL()+"' width='"+t.width+"px' height='"+t.height+"px' />";n.append(i),this.printContainer.append(n)},_printDocument:function(){var t=this,n=t.viewer.pages,i=n[0].width,a=n[0].height,s=window.open("","","innerWidth="+i+",innerHeight="+a+"location=no,titlebar=no,toolbar=no"),r=o.support.browser;s?(s.document.write(t.printContainer.html()),s.document.close(),s.focus(),s.print(),!r.chrome||r.chromiumEdge?s.close():e(s.document).find("body").on("mousemove",(function(){s.close()}))):t.viewer._triggerError({message:t.errorMessages.popupBlocked})}});n(o.pdfviewer,{OpenCommand:l,PageChangeCommand:d,DownloadCommand:c,EnableSelectionCommand:h,EnablePanCommand:g,ExportCommand:p,PrintCommand:f,OpenSearchCommand:u,ZoomCommand:m})}(window.kendo.jQuery);!function(e,t){var o,n=".kendoPDFViewer",i=window.kendo,a=i.ui,s=e.extend,r=i.drawing,l=e.extend({PLUS:187,MINUS:189,ZERO:48,NUMPAD_ZERO:96},i.keys),d=a.Widget,c=i.ui.progress,p="error",h="update",g=1.25,u="pagechange",m="ZoomCommand",f="pdfjs",v="dpl",w="k-pdf-viewer k-widget",b="k-canvas k-list-scroller",k="k-enable-text-select",_="k-enable-panning",x="k-search-highlight",C="k-text-char",P=d.extend({init:function(e,t){var o=this;d.fn.init.call(o,e,i.deepExtend({},this.options,t)),o._wrapper(),o.options.toolbar&&o._renderToolbar(),o._initProcessor(t||{}),o._renderPageContainer(),o._loadDocument(),o._tabindex(),i.notify(o,i.ui)},events:["render","open",p,"zoomStart","zoomEnd"],options:{name:"PDFViewer",view:{type:"canvas"},pdfjsProcessing:{file:null},dplProcessing:{read:{url:null,type:"GET",dataType:"json",pageField:"pageNumber"},upload:{url:null,saveField:"file"},download:{url:null},loadOnDemand:!1},toolbar:{items:[]},width:1e3,height:1200,page:1,defaultPageSize:{width:794,height:1123},scale:null,zoomMin:.5,zoomMax:4,zoomRate:.25,messages:{defaultFileName:"Document",toolbar:{zoom:{zoomLevel:"zoom level",zoomOut:"Zoom Out",zoomIn:"Zoom In",actualWidth:"Actual Width",autoWidth:"Automatic Width",fitToWidth:"Fit to Width",fitToPage:"Fit to Page"},open:"Open",exportAs:"Export",download:"Download",pager:{first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",of:" of {0} ",page:"page",pages:"pages"},print:"Print",toggleSelection:"Enable Selection",togglePan:"Enable Panning",search:"Search"},errorMessages:{notSupported:"Only pdf files allowed.",parseError:"PDF file fails to process.",notFound:"File is not found.",popupBlocked:"Popup is blocked."},dialogs:{exportAsDialog:{title:"Export...",defaultFileName:"Document",pdf:"Portable Document Format (.pdf)",png:"Portable Network Graphics (.png)",svg:"Scalable Vector Graphics (.svg)",labels:{fileName:"File name",saveAsType:"Save as",page:"Page"}},okText:"OK",save:"Save",cancel:"Cancel",search:{inputLabel:"Search Text",matchCase:"Match Case",next:"Next Match",previous:"Previous Match",close:"Close",of:"of"}}}},_wrapper:function(){var e=this,t=e.options;e.wrapper=e.element,e.wrapper.width(t.width).height(t.height).addClass(w).on("focus.kendoPDFViewer",e._focus.bind(e)).on("keydown.kendoPDFViewer",e._keydown.bind(e)),e._allowResize=null===e.options.scale,e._autoZoomScale=g,e.zoomScale=e.options.scale||e._autoZoomScale,e._resizeHandler=i.onResize((function(){e.resize()})),e._pageNum=e.options.page},_focus:function(e){this.toolbar?this.toolbar.wrapper.trigger("focus"):this.pageContainer.trigger("focus"),e.preventDefault()},_keydown:function(e){var t=[l.PLUS,l.NUMPAD_PLUS],o=[l.MINUS,l.NUMPAD_MINUS],n=[l.ZERO,l.NUMPAD_ZERO],i=!1,a={command:m,options:{updateComboBox:!0}};e.ctrlKey&&!this._blankPage&&this.processingLib!==v&&(t.includes(e.keyCode)?(a.options.zoomIn=!0,i=!0):o.includes(e.keyCode)?(a.options.zoomOut=!0,i=!0):n.includes(e.keyCode)&&(a.options.scale=g,i=!0),i&&(this.execute(a),e.preventDefault()))},_initProcessor:function(e){var t,n=this;t=e.dplProcessing?n.options.dplProcessing:n.options.pdfjsProcessing,n.processingLib=e.dplProcessing?v:f,n.processor=new i.pdfviewer[n.processingLib].processor(t,n),o=i.pdfviewer[n.processingLib].Page},_renderToolbar:function(){var t=this,o=t.options,n={pager:{messages:o.messages.toolbar.pager},scale:o.scale,resizable:!0,items:o.toolbar.items,width:o.width,action:t.execute.bind(t),messages:o.messages.toolbar,viewer:this},a=e("<div />");a.appendTo(t.element),t.toolbar=new i.pdfviewer.Toolbar(a,n)},_initErrorDialog:function(e){var t=this;if(!t._errorDialog){e=s(e,{messages:t.options.messages});var o=new i.pdfviewer.dialogs.ErrorDialog(e);t._errorDialog=o._dialog}return t._errorDialog},_renderPageContainer:function(){var t=this;t.pageContainer||(t.pageContainer=e("<div />"),t.pageContainer.addClass(b),t.pageContainer.attr("tabindex",0),t.wrapper.append(t.pageContainer))},_triggerError:function(e){var t=this._initErrorDialog();s(e,{dialog:t}),this.pageContainer&&c(this.pageContainer,!1),this.trigger(p,e)||t.open().content(e.message)},_renderPages:function(){var e,t=this,n=t.document;if(t.pages=[],n&&n.total){e=n.pages;for(var i=1;i<=n.total;i++){var a,r={processor:t.processor,number:i};e&&e.length&&(r=s(r,e[i-1])),a=new o(r,t),t.pages.push(a),t.pageContainer.append(a.element)}t._attachContainerEvents(),t._getVisiblePagesCount()}else t._renderBlankPage()},_renderBlankPage:function(){this._blankPage=new o(this.options.defaultPageSize,this),this.pageContainer.append(this._blankPage.element),this.trigger(h,{isBlank:!0})},_resize:function(){var e,t=this;t._allowResize&&(t.pages&&t.pages.length?(t.toolbar&&t.toolbar.resize(!0),t._resizeHandler&&clearTimeout(t._resizeHandler),t._resizeHandler=setTimeout(t._resizePages.bind(t),100)):t._blankPage&&(e=undefined/t._blankPage.element.width(),t._blankPage.resize(e)))},_resizePages:function(){var e=this,t=e.pageContainer[0].clientWidth,o=0;e.pages.forEach((function(e){var n=t/e.element.width();n>o&&(o=n)})),e._autoFit?e.zoom(e._autoFit,!0):(o=Math.min(Math.max(o,e.options.zoomMin),g))!=e.zoomScale&&(e.zoom(o,!0),e.zoomScale=o,e._allowResize=!0)},_attachContainerEvents:function(){var e=this;e._wheel=i.throttle(e._wheel.bind(e),300),e.processingLib!==v&&e.pageContainer.on("DOMMouseScroll.kendoPDFViewer mousewheel.kendoPDFViewer",(function(t){t.ctrlKey&&(document.activeElement!==e.pageContainer[0]&&e.pageContainer.trigger("focus"),e._wheel(t),t.preventDefault())})),e._scroller=new i.mobile.ui.Scroller(e.pageContainer,{zoom:!1,elastic:!0}),e._scroller.scrollElement.addClass(_),e._scroller.bind("scroll",e._scroll.bind(this))},_scroll:function(e){var t,o,n,i,a,s,r=this,l=r.pageContainer[0].scrollHeight,d=r.pageContainer.height(),c=e.scrollTop,p=r.pageContainer.offset().top,g=r.pages.length,m=r._pageNum,f=m-1,v=m,w=c-r._prevScrollTop>0?1:-1;if(!r._preventScroll&&g){if(r._scrollingStarted=!0,o=(t=r.pages[f]).element.offset().top-p,n=t.element.height(),-1==w&&r.pages[f+w]&&(a=(i=r.pages[f-r._visiblePagesCount]||r.pages[f+w]).element.offset().top-p,s=i.element.height()),Math.abs(c-(r._prevScrollTop||0))>d*r.zoomScale?v=Math.floor(c*(1/(l/g)))+1:o<0&&Math.abs(o)>=n/2&&1===w?v++:i&&Math.abs(a)<=s/2&&v--,m!==v&&v>=1&&v<=g){if(r.pages[v-1].element.offset().top>d)return;r._pageNum=v,r._loadVisiblePages(),r.trigger(h,{action:u,page:v,total:g})}r._prevScrollTop=c}else r._preventScroll=!1},_wheel:function(e){var t=e.originalEvent,o=(t.wheelDelta?-t.wheelDelta:t.detail)<0;this.execute({command:m,options:{zoomIn:o,zoomOut:!o,updateComboBox:!0}}),e.preventDefault()},zoom:function(e,t){return e?this.execute({command:m,options:{scale:e,updateComboBox:!t}}):this.zoomScale},execute:function(e){var t=s({viewer:this},e.options);return new i.pdfviewer[e.command](t).exec()},_loadDocument:function(){var e=this,t=e.options.page;c(e.pageContainer,!0),e.processor.fetchDocument().done((function(o){e._clearPages(),e.document=o,e._renderPages(),e.resize(!0),o&&(t=t>=1&&t<=o.total?t:1,e.activatePage(t)),c(e.pageContainer,!1)}))},loadPage:function(e){var t=this.pages&&this.pages[e-1];if(t)return t.load(this.zoomScale)},activatePage:function(e){var t,o,n,i,a=this.pages&&this.pages[e-1],s=this._scroller;a&&(t=s.scrollTop,o=s.element.offset().top,n=a.element.offset().top,i=this._autoFit?0:parseInt(a.element.css("marginTop"),10),this._pageNum=e,this._loadVisiblePages(),this._preventScroll=!0,this._scroller.scrollTo(0,-t-n+o+i),this.trigger(h,{action:u,page:e,total:this.pages.length}))},_getVisiblePagesCount:function(){for(var e=this,t=0,o=0,n=e.pageContainer[0].clientHeight,i=0;t<=n&&i<e.pages.length;)t+=e.pages[i].element.height(),o++,i++;e._visiblePagesCount=o},_loadVisiblePages:function(){var e=this.pages&&this.pages.length,t=Math.max(this._pageNum-this._visiblePagesCount,1),o=Math.min(this._pageNum+this._visiblePagesCount,e);this._visiblePages=this.pages.slice(t-1,o);for(var n=t;n<=o;n++)this.loadPage(n)},_loadAllPages:function(){for(var e=this.pages&&this.pages.length,t=[],o=0;o<=e;o++)t.push(this.loadPage(o));return t},fromFile:function(e){this.zoomScale=this.options.scale||g,this.zoom(this.zoomScale,!0),this.trigger(h,{action:"zoom",zoom:this.options.scale||"auto"}),this.processor._updateDocument(e),this._loadDocument()},exportImage:function(e){var t=this,o=e.page,n=t.pages[o-1]||t._blankPage,a=new r.Group;n.load();var s=i.drawing.Path.fromRect(new i.geometry.Rect([0,0],[n.width,n.height]),{fill:{color:"#ffffff"},stroke:null});c(t.pageContainer,!0),a.append(s,n.group),r.exportImage(a).done((function(o){c(t.pageContainer,!1),i.saveAs({dataURI:o,fileName:e.fileName,proxyURL:e.proxyURL||"",forceProxy:e.forceProxy,proxyTarget:e.proxyTarget})}))},exportSVG:function(e){var t=this,o=e.page,n=t.pages[o-1]||t._blankPage;c(t.pageContainer,!0),n.load(),r.exportSVG(n.group).done((function(o){c(t.pageContainer,!1),i.saveAs({dataURI:o,fileName:e.fileName,proxyURL:e.proxyURL||"",forceProxy:e.forceProxy,proxyTarget:e.proxyTarget})}))},setOptions:function(t){var o=this;(t.pdfjsProcessing||t.dplProcessing)&&o._initProcessor(t||{}),t=e.extend(o.options,t),d.fn.setOptions.call(o,t),t.page&&(o._pageNum=t.page,o.activatePage(t.page)),t.width&&o.element.width(t.width),t.height&&o.element.height(t.height)},destroy:function(){this._resizeHandler&&i.unbindResize(this._resizeHandler),this._errorDialog&&this._errorDialog.destroy(),this._saveDialog&&this._saveDialog.destroy(),this._upload&&this._upload.destroy(),this.toolbar&&(this.toolbar.unbind(),this.toolbar.destroy(),this.toolbar=null),this.pages&&this.pages.length&&(this.pages.forEach((function(e){e.destroy()})),this.pages=[]),this._scroller&&(this._scroller.unbind(),this._scroller.destroy()),this.pageContainer.off(n),d.fn.destroy.call(this)},_clearPages:function(){this.pages=[],this.document=null,this._pageNum=1,this.pageContainer.off(n),this.pageContainer.empty(),this._scroller&&(this._scroller.reset(),this._scroller.unbind(),this._scroller.destroy())},_toggleSelection:function(e){var t=this;undefined===e&&(e=!0),t._scroller.userEvents._shouldNotMove=e,t._scroller.scrollElement.toggleClass(k,e),t._scroller.scrollElement.toggleClass(_,!e)},_initSearchDOM:function(){var e=this;return new Promise((function(t){Promise.all(e._loadAllPages()).then((function(){e._searchDOM=new i.pdfviewer.SearchDOM({target:e._getTextLayers(),highlightClass:x,charClass:C}),t()}))}))},_getTextLayers:function(){return this.pages.map((function(e){return e.textLayer}))}});a.plugin(P)}(window.kendo.jQuery)}));
//# sourceMappingURL=kendo.pdfviewer.min.js.map
