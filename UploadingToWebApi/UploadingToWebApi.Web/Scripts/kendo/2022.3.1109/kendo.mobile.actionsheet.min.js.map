{"version":3,"file":"kendo.mobile.actionsheet.min.js","names":["factory","define","amd","$","kendo","support","ui","Shim","Popup","Widget","OPEN","CLOSE","COMMAND","BUTTONS","cancelTemplate","ActionSheet","window","jQuery","mobile","template","extend","init","element","options","ShimClass","tablet","type","that","this","os","mobileOS","fn","call","addClass","append","cancel","wrap","on","preventDefault","view","bind","destroy","wrapper","parent","shim","modal","ios","majorVersion","className","popup","_closeProxy","_close","_shimHideProxy","_shimHide","onResize","notify","events","name","height","open","target","context","show","close","hide","openFor","data","trigger","unbindResize","_click","e","isDefaultPrevented","currentTarget","action","actionData","$angular","injector","get","getter","plugin"],"sources":["kendo.mobile.actionsheet.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.mobile.popover', 'kendo.mobile.shim'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"mobile.actionsheet\",\n        name: \"ActionSheet\",\n        category: \"mobile\",\n        description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n        depends: [ \"mobile.popover\", \"mobile.shim\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            support = kendo.support,\n            ui = kendo.mobile.ui,\n            Shim = ui.Shim,\n            Popup = ui.Popup,\n            Widget = ui.Widget,\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            COMMAND = \"command\",\n            BUTTONS = \"li>a\",\n            CONTEXT_DATA = \"actionsheetContext\",\n            WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n            cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n        var ActionSheet = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    ShimClass,\n                    tablet,\n                    type,\n                    os = support.mobileOS;\n\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                type = options.type;\n                element = that.element;\n\n                if (type === \"auto\") {\n                    tablet = os && os.tablet;\n                } else {\n                    tablet = type === \"tablet\";\n                }\n\n                ShimClass = tablet ? Popup : Shim;\n\n                if (options.cancelTemplate) {\n                    cancelTemplate = kendo.template(options.cancelTemplate);\n                }\n\n                element\n                    .addClass(\"km-actionsheet\")\n                    .append(cancelTemplate({ cancel: that.options.cancel }))\n                    .wrap(WRAP)\n                    .on(\"up\", BUTTONS, \"_click\")\n                    .on(\"click\", BUTTONS, kendo.preventDefault);\n\n                that.view().bind(\"destroy\", function() {\n                    that.destroy();\n                });\n\n                that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n                that.shim = new ShimClass(that.wrapper, $.extend({ modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\" }, that.options.popup) );\n\n                that._closeProxy = that._close.bind(that);\n                that._shimHideProxy = that._shimHide.bind(that);\n                that.shim.bind(\"hide\", that._shimHideProxy);\n\n                if (tablet) {\n                    kendo.onResize(that._closeProxy);\n                }\n\n                kendo.notify(that, ui);\n            },\n\n            events: [\n                OPEN,\n                CLOSE,\n                COMMAND\n            ],\n\n            options: {\n                name: \"ActionSheet\",\n                cancel: \"Cancel\",\n                type: \"auto\",\n                popup: { height: \"auto\" }\n            },\n\n            open: function(target, context) {\n                var that = this;\n                that.target = $(target);\n                that.context = context;\n                that.shim.show(target);\n            },\n\n            close: function() {\n                this.context = this.target = null;\n                this.shim.hide();\n            },\n\n            openFor: function(target) {\n                var that = this,\n                    context = target.data(CONTEXT_DATA);\n\n                that.open(target, context);\n                that.trigger(OPEN, { target: target, context: context });\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                kendo.unbindResize(this._closeProxy);\n                this.shim.destroy();\n            },\n\n            _click: function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                var currentTarget = $(e.currentTarget);\n                var action = currentTarget.data(\"action\");\n\n                if (action) {\n                    var actionData = {\n                        target: this.target,\n                        context: this.context\n                    },\n                    $angular = this.options.$angular;\n\n                    if ($angular) {\n                        this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                    } else {\n                        kendo.getter(action)(window)(actionData);\n                    }\n                }\n\n                this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n                e.preventDefault();\n                this._close();\n            },\n\n            _shimHide: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.context = this.target = null;\n                } else {\n                    e.preventDefault();\n                }\n            },\n\n            _close: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.close();\n                } else {\n                    e.preventDefault();\n                }\n            }\n        });\n\n        ui.plugin(ActionSheet);\n    })(window.kendo.jQuery);\n\n}));\n"]}